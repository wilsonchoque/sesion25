"use strict";(self.webpackChunksesion_25=self.webpackChunksesion_25||[]).push([[179],{829:()=>{function Ce(t){return"function"==typeof t}function cu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jl=cu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function co(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ce(r))try{r()}catch(s){e=s instanceof Jl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{W0(s)}catch(o){e=e??[],o instanceof Jl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)W0(e);else{if(e instanceof bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&co(n,e)}remove(e){const{_finalizers:n}=this;n&&co(n,e),e instanceof bn&&e._removeParent(this)}}bn.EMPTY=(()=>{const t=new bn;return t.closed=!0,t})();const q0=bn.EMPTY;function z0(t){return t instanceof bn||t&&"closed"in t&&Ce(t.remove)&&Ce(t.add)&&Ce(t.unsubscribe)}function W0(t){Ce(t)?t():t.unsubscribe()}const Yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ed={setTimeout(t,e,...n){const{delegate:r}=ed;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ed;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function K0(t){ed.setTimeout(()=>{const{onUnhandledError:e}=Yi;if(!e)throw t;e(t)})}function Q0(){}const BB=mg("C",void 0,void 0);function mg(t,e,n){return{kind:t,value:e,error:n}}let Zi=null;function td(t){if(Yi.useDeprecatedSynchronousErrorHandling){const e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Zi;if(Zi=null,n)throw r}}else t()}class yg extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,z0(e)&&e.add(this)):this.destination=WB}static create(e,n,r){return new lu(e,n,r)}next(e){this.isStopped?vg(function jB(t){return mg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?vg(function $B(t){return mg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vg(BB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const GB=Function.prototype.bind;function _g(t,e){return GB.call(t,e)}class qB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nd(r)}else nd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nd(n)}}}class lu extends yg{constructor(e,n,r){let i;if(super(),Ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Yi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_g(e.next,s),error:e.error&&_g(e.error,s),complete:e.complete&&_g(e.complete,s)}):i=e}this.destination=new qB(i)}}function nd(t){Yi.useDeprecatedSynchronousErrorHandling?function HB(t){Yi.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}(t):K0(t)}function vg(t,e){const{onStoppedNotification:n}=Yi;n&&ed.setTimeout(()=>n(t,e))}const WB={closed:!0,next:Q0,error:function zB(t){throw t},complete:Q0},wg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xi(t){return t}function Y0(t){return 0===t.length?Xi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function YB(t){return t&&t instanceof yg||function QB(t){return t&&Ce(t.next)&&Ce(t.error)&&Ce(t.complete)}(t)&&z0(t)}(n)?n:new lu(n,r,i);return td(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Z0(r))((i,s)=>{const o=new lu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[wg](){return this}pipe(...n){return Y0(n)(this)}toPromise(n){return new(n=Z0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Z0(t){var e;return null!==(e=t??Yi.Promise)&&void 0!==e?e:Promise}const ZB=cu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let kr=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new X0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZB}next(n){td(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){td(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){td(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?q0:(this.currentObservers=null,s.push(n),new bn(()=>{this.currentObservers=null,co(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new X0(e,n),t})();class X0 extends kr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:q0}}function J0(t){return Ce(t?.lift)}function yt(t){return e=>{if(J0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new XB(t,e,n,r,i)}class XB extends yg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return yt((n,r)=>{let i=0;n.subscribe(ut(r,s=>{r.next(t.call(e,s,i++))}))})}function tT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ji(t){return this instanceof Ji?(this.v=t,this):new Ji(t)}function t$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ji?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function n$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function rT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const iT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function sT(t){return Ce(t?.then)}function oT(t){return Ce(t[wg])}function aT(t){return Symbol.asyncIterator&&Ce(t?.[Symbol.asyncIterator])}function uT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cT=function i$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lT(t){return Ce(t?.[cT])}function dT(t){return t$(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ji(n.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{n.releaseLock()}})}function hT(t){return Ce(t?.getReader)}function Kn(t){if(t instanceof Le)return t;if(null!=t){if(oT(t))return function s$(t){return new Le(e=>{const n=t[wg]();if(Ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(iT(t))return function o$(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(sT(t))return function a$(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,K0)})}(t);if(aT(t))return fT(t);if(lT(t))return function u$(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(hT(t))return function c$(t){return fT(dT(t))}(t)}throw uT(t)}function fT(t){return new Le(e=>{(function l$(t,e){var n,r,i,s;return function JB(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=n$(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bt(t,e,n=1/0){return Ce(e)?bt((r,i)=>se((s,o)=>e(r,s,i,o))(Kn(t(r,i))),n):("number"==typeof e&&(n=e),yt((r,i)=>function d$(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Kn(n(m,l++)).subscribe(ut(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Or(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function lo(t=1/0){return bt(Xi,t)}const cr=new Le(t=>t.complete());function Eg(t){return t[t.length-1]}function pT(t){return Ce(Eg(t))?t.pop():void 0}function du(t){return function f$(t){return t&&Ce(t.schedule)}(Eg(t))?t.pop():void 0}function rd(t,e=0){return yt((n,r)=>{n.subscribe(ut(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function id(t,e=0){return yt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tt(t,e){return e?function w$(t,e){if(null!=t){if(oT(t))return function g$(t,e){return Kn(t).pipe(id(e),rd(e))}(t,e);if(iT(t))return function y$(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(sT(t))return function m$(t,e){return Kn(t).pipe(id(e),rd(e))}(t,e);if(aT(t))return gT(t,e);if(lT(t))return function _$(t,e){return new Le(n=>{let r;return Or(n,e,()=>{r=t[cT](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}(t,e);if(hT(t))return function v$(t,e){return gT(dT(t),e)}(t,e)}throw uT(t)}(t,e):Kn(t)}function Dg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new lu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function bg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Te(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Te).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Cg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const D$=be({__forward_ref__:be});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return Te(this())},t}function q(t){return Tg(t)?t():t}function Tg(t){return"function"==typeof t&&t.hasOwnProperty(D$)&&t.__forward_ref__===Se}function Sg(t){return t&&!!t.\u0275providers}const mT="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function sd(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function od(t,e){throw new S(-201,!1)}function Ln(t,e){null==t&&function ye(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function ad(t){return yT(t,ud)||yT(t,vT)}function yT(t,e){return t.hasOwnProperty(e)?t[e]:null}function _T(t){return t&&(t.hasOwnProperty(Ag)||t.hasOwnProperty(N$))?t[Ag]:null}const ud=be({\u0275prov:be}),Ag=be({\u0275inj:be}),vT=be({ngInjectableDef:be}),N$=be({ngInjectorDef:be});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let xg;function Vn(t){const e=xg;return xg=t,e}function wT(t,e,n){const r=ad(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void od(Te(t))}const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hu={},Mg="__NG_DI_FLAG__",cd="ngTempTokenPath",P$=/\n/gm,IT="__source";let fu;function ho(t){const e=fu;return fu=t,e}function L$(t,e=z.Default){if(void 0===fu)throw new S(-203,!1);return null===fu?wT(t,void 0,e):fu.get(t,e&z.Optional?null:void 0,e)}function $(t,e=z.Default){return(function k$(){return xg}()||L$)(q(t),e)}function le(t,e=z.Default){return $(t,ld(e))}function ld(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rg(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=V$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function pu(t,e){return t[Mg]=e,t.prototype[Mg]=e,t}function V$(t){return t[Mg]}function mi(t){return{toString:t}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),lr=(()=>{return(t=lr||(lr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",lr;var t})();const Pr={},ge=[],dd=be({\u0275cmp:be}),Ng=be({\u0275dir:be}),kg=be({\u0275pipe:be}),DT=be({\u0275mod:be}),Fr=be({\u0275fac:be}),gu=be({__NG_ELEMENT_ID__:be});let $$=0;function Lr(t){return mi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lr.Emulated,id:"c"+$$++,styles:t.styles||ge,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=TT(t.inputs,r),i.outputs=TT(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(bT).filter(CT):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Zt).filter(CT):null,i})}function bT(t){return _e(t)||Bt(t)}function CT(t){return null!==t}function Ut(t){return mi(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function TT(t,e){if(null==t)return Pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const K=Lr;function _e(t){return t[dd]||null}function Bt(t){return t[Ng]||null}function Zt(t){return t[kg]||null}function Tn(t,e){const n=t[DT]||null;if(!n&&!0===e)throw new Error(`Type ${Te(t)} does not have '\u0275mod' property.`);return n}function Sn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zn(t){return Array.isArray(t)&&!0===t[1]}function Fg(t){return 0!=(4&t.flags)}function vu(t){return t.componentOffset>-1}function md(t){return 1==(1&t.flags)}function Xn(t){return null!==t.template}function G$(t){return 0!=(256&t[2])}function ts(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}class W${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Un(){return NT}function NT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Q$),K$}function K$(){const t=OT(this),e=t?.current;if(e){const n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Q$(t,e,n,r){const i=this.declaredInputs[n],s=OT(t)||function Y$(t,e){return t[kT]=e}(t,{previous:Pr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new W$(u&&u.currentValue,e,a===Pr),t[r]=e}Un.ngInherit=!0;const kT="__ngSimpleChanges__";function OT(t){return t[kT]||null}function Tt(t){for(;Array.isArray(t);)t=t[0];return t}function yd(t,e){return Tt(e[t])}function An(t,e){return Tt(e[t.index])}function LT(t,e){return t.data[e]}function xn(t,e){const n=e[t];return Sn(n)?n:n[0]}function _d(t){return 64==(64&t[2])}function yi(t,e){return null==e?null:t[e]}function VT(t){t[18]=0}function Vg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const X={lFrame:YT(null),bindingsEnabled:!0};function BT(){return X.bindingsEnabled}function E(){return X.lFrame.lView}function de(){return X.lFrame.tView}function St(){let t=HT();for(;null!==t&&64===t.type;)t=t.parent;return t}function HT(){return X.lFrame.currentTNode}function hr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function Ug(){return X.lFrame.isParent}function vo(){return X.lFrame.bindingIndex++}function cj(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,$g(e)}function $g(t){X.lFrame.currentDirectiveIndex=t}function WT(){return X.lFrame.currentQueryIndex}function Hg(t){X.lFrame.currentQueryIndex=t}function dj(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function KT(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=dj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=QT();return r.currentTNode=e,r.lView=t,!0}function Gg(t){const e=QT(),n=t[1];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QT(){const t=X.lFrame,e=null===t?null:t.child;return null===e?YT(t):e}function YT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ZT(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const XT=ZT;function qg(){const t=ZT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function en(){return X.lFrame.selectedIndex}function ns(t){X.lFrame.selectedIndex=t}function Ve(){const t=X.lFrame;return LT(t.tView,t.selectedIndex)}function vd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function wd(t,e,n){JT(t,e,3,n)}function Id(t,e,n,r){(3&t[2])===n&&JT(t,e,n,r)}function zg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function JT(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(wj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function wj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Iu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Kg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];tS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function eS(t){return 3===t||4===t||6===t}function tS(t){return 64===t.charCodeAt(0)}function Eu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||nS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function nS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function rS(t){return-1!==t}function Ed(t){return 32767&t}function Dd(t,e){let n=function bj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Qg=!0;function bd(t){const e=Qg;return Qg=t,e}let Cj=0;const fr={};function Cd(t,e){const n=oS(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Yg(r.data,t),Yg(e,null),Yg(r.blueprint,null));const i=Zg(t,e),s=t.injectorIndex;if(rS(i)){const o=Ed(i),a=Dd(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Yg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Zg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=fS(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xg(t,e,n){!function Tj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(gu)&&(r=n[gu]),null==r&&(r=n[gu]=Cj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function aS(t,e,n){if(n&z.Optional||void 0!==t)return t;od()}function uS(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[9],s=Vn(void 0);try{return i?i.get(e,r,n&z.Optional):wT(e,r,n&z.Optional)}finally{Vn(s)}}return aS(r,0,n)}function cS(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[2]){const o=function Rj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=lS(s,o,n,r|z.Self,fr);if(a!==fr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,fr,r);if(l!==fr)return l}u=fS(o),o=o[15]}s=u}return i}(t,e,n,r,fr);if(o!==fr)return o}const s=lS(t,e,n,r,fr);if(s!==fr)return s}return uS(e,n,r,i)}function lS(t,e,n,r,i){const s=function xj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(gu)?t[gu]:void 0;return"number"==typeof e?e>=0?255&e:Mj:e}(n);if("function"==typeof s){if(!KT(e,t,r))return r&z.Host?aS(i,0,r):uS(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;od()}finally{XT()}}else if("number"==typeof s){let o=null,a=oS(t,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Zg(t,e):e[a+8],-1!==u&&hS(r,!1)?(o=e[1],a=Ed(u),e=Dd(u,e)):a=-1);-1!==a;){const l=e[1];if(dS(s,a,l.data)){const d=Aj(a,e,n,o,r,c);if(d!==fr)return d}u=e[a+8],-1!==u&&hS(r,e[1].data[a+8]===c)&&dS(s,a,e)?(o=l,a=Ed(u),e=Dd(u,e)):a=-1}}return i}function Aj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Td(a,o,n,null==r?vu(a)&&Qg:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?rs(e,o,l,a):fr}function Td(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Xn(f)&&f.type===n)return u}return null}function rs(t,e,n,r){let i=t[n];const s=e.data;if(function Ij(t){return t instanceof Iu}(i)){const o=i;o.resolving&&function b$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=bd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Vn(o.injectImpl):null;KT(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function vj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=NT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Vn(u),bd(a),o.resolving=!1,XT()}}return i}function dS(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function hS(t,e){return!(t&z.Self||t&z.Host&&e)}class Io{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cS(this._tNode,this._lView,e,ld(r),n)}}function Mj(){return new Io(St(),E())}function At(t){return mi(()=>{const e=t.prototype.constructor,n=e[Fr]||Jg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Fr]||Jg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Jg(t){return Tg(t)?()=>{const e=Jg(q(t));return e&&e()}:ts(t)}function fS(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const Do="__parameters__";function Co(t,e,n){return mi(()=>{const r=function em(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Do)?u[Do]:Object.defineProperty(u,Do,{value:[]})[Do];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(t,e){t.forEach(n=>Array.isArray(n)?is(n,e):e(n))}function gS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ad(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Mn(t,e,n){let r=To(t,e);return r>=0?t[1|r]=n:(r=~r,function Pj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function nm(t,e){const n=To(t,e);if(n>=0)return t[1|n]}function To(t,e){return function mS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ht=pu(Co("Optional"),8),Tu=pu(Co("SkipSelf"),4);var hn=(()=>((hn=hn||{})[hn.Important=1]="Important",hn[hn.DashCase=2]="DashCase",hn))();const um=new Map;let rH=0;const lm="__ngContext__";function Gt(t,e){Sn(e)?(t[lm]=e[20],function sH(t){um.set(t[20],t)}(e)):t[lm]=e}function hm(t,e){return undefined(t,e)}function Mu(t){const e=t[3];return Zn(e)?e[3]:e}function fm(t){return FS(t[13])}function pm(t){return FS(t[4])}function FS(t){for(;null!==t&&!Zn(t);)t=t[4];return t}function Ao(t,e,n,r,i){if(null!=r){let s,o=!1;Zn(r)?s=r:Sn(r)&&(o=!0,r=r[0]);const a=Tt(r);0===t&&null!==n?null==i?jS(e,n,a):ss(e,n,a,i||null,!0):1===t&&null!==n?ss(e,n,a,i||null,!0):2===t?function Im(t,e,n){const r=Nd(t,e);r&&function CH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function AH(t,e,n,r,i){const s=n[7];s!==Tt(n)&&Ao(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Ru(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function mm(t,e,n){return t.createElement(e,n)}function VS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Vg(i,-1)),n.splice(r,1)}function ym(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&VS(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ad(t,10+e);!function yH(t,e){Ru(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function US(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Ru(t,e,n,3,null,null),function wH(t){let e=t[13];if(!e)return _m(t[1],t);for(;e;){let n=null;if(Sn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Sn(e)&&_m(e[1],e),e=e[3];null===e&&(e=t),Sn(e)&&_m(e[1],e),n=e&&e[4]}e=n}}(e)}}function _m(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function bH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Iu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function DH(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Zn(e[3])){n!==e[3]&&VS(n,e);const r=e[19];null!==r&&r.detachView(t)}!function oH(t){um.delete(t[20])}(e)}}function BS(t,e,n){return function $S(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===lr.None||s===lr.Emulated)return null}return An(r,n)}}(t,e.parent,n)}function ss(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jS(t,e,n){t.appendChild(e,n)}function HS(t,e,n,r,i){null!==r?ss(t,e,n,r,i):jS(t,e,n)}function Nd(t,e){return t.parentNode(e)}let bm,Fd,zS=function qS(t,e,n){return 40&t.type?An(t,n):null};function kd(t,e,n,r){const i=BS(t,r,e),s=e[11],a=function GS(t,e,n){return zS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)HS(s,i,n[u],a,!1);else HS(s,i,n,a,!1)}function Od(t,e){if(null!==e){const n=e.type;if(3&n)return An(e,t);if(4&n)return wm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Od(t,r);{const i=t[e.index];return Zn(i)?wm(-1,i):Tt(i)}}if(32&n)return hm(e,t)()||Tt(t[e.index]);{const r=KS(t,e);return null!==r?Array.isArray(r)?r[0]:Od(Mu(t[16]),r):Od(t,e.next)}}return null}function KS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function wm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Od(r,i)}return e[7]}function Em(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Gt(Tt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Em(t,e,n.child,r,i,s,!1),Ao(e,t,i,a,s);else if(32&u){const c=hm(n,r);let l;for(;l=c();)Ao(e,t,i,l,s);Ao(e,t,i,a,s)}else 16&u?QS(t,e,r,n,i,s):Ao(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ru(t,e,n,r,i,s){Em(n,r,t.firstChild,e,i,s,!1)}function QS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ao(e,t,i,u[c],s);else Em(t,e,u,o[3],i,s,!0)}function YS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Kg(t,e,r),null!==i&&YS(t,e,i),null!==s&&function MH(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function tA(t){return function Cm(){if(void 0===Fd&&(Fd=null,Ae.trustedTypes))try{Fd=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fd}()?.createScriptURL(t)||t}class nA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mT})`}}function _i(t){return t instanceof nA?t.changingThisBreaksApplicationSecurity:t}function Nu(t,e){const n=function BH(t){return t instanceof nA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mT})`)}return n===e}const GH=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var nt=(()=>((nt=nt||{})[nt.NONE=0]="NONE",nt[nt.HTML=1]="HTML",nt[nt.STYLE=2]="STYLE",nt[nt.SCRIPT=3]="SCRIPT",nt[nt.URL=4]="URL",nt[nt.RESOURCE_URL=5]="RESOURCE_URL",nt))();function Mm(t){const e=Ou();return e?e.sanitize(nt.URL,t)||"":Nu(t,"URL")?_i(t):function Tm(t){return(t=String(t)).match(GH)?t:"unsafe:"+t}(Z(t))}function cA(t){const e=Ou();if(e)return tA(e.sanitize(nt.RESOURCE_URL,t)||"");if(Nu(t,"ResourceURL"))return tA(_i(t));throw new S(904,!1)}function Ou(){const t=E();return t&&t[12]}const Vd=new L("ENVIRONMENT_INITIALIZER"),dA=new L("INJECTOR",-1),hA=new L("INJECTOR_DEF_TYPES");class fA{get(e,n=hu){if(n===hu){const r=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw r.name="NullInjectorError",r}return n}}function rG(...t){return{\u0275providers:pA(0,t),\u0275fromNgModule:!0}}function pA(t,...e){const n=[],r=new Set;let i;return is(e,s=>{const o=s;Rm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&gA(i,n),n}function gA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Nm(i,s=>{e.push(s)})}}function Rm(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=_T(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=_T(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Rm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{is(s.imports,l=>{Rm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&gA(c,e)}if(!a){const c=ts(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:hA,useValue:i,multi:!0},{provide:Vd,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||Nm(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Nm(t,e){for(let n of t)Sg(n)&&(n=n.\u0275providers),Array.isArray(n)?Nm(n,e):e(n)}const iG=be({provide:String,useValue:be});function km(t){return null!==t&&"object"==typeof t&&iG in t}function as(t){return"function"==typeof t}const Om=new L("Set Injector scope."),Ud={},oG={};let Pm;function Bd(){return void 0===Pm&&(Pm=new fA),Pm}class jr{}class _A extends jr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lm(e,o=>this.processProvider(o)),this.records.set(dA,xo(void 0,this)),i.has("environment")&&this.records.set(jr,xo(void 0,this));const s=this.records.get(Om);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(hA.multi,ge,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=ho(this),r=Vn(void 0);try{return e()}finally{ho(n),Vn(r)}}get(e,n=hu,r=z.Default){this.assertNotDestroyed(),r=ld(r);const i=ho(this),s=Vn(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function dG(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&ad(e);a=u&&this.injectableDefInScope(u)?xo(Fm(e),Ud):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Bd():this.parent).get(e,n=r&z.Optional&&n===hu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[cd]=o[cd]||[]).unshift(Te(e)),i)throw o;return function U$(t,e,n,r){const i=t[cd];throw e[IT]&&i.unshift(e[IT]),t.message=function B$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Te(e);if(Array.isArray(e))i=e.map(Te).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(P$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[cd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Vn(s),ho(i)}}resolveInjectorInitializers(){const e=ho(this),n=Vn(void 0);try{const r=this.get(Vd.multi,ge,z.Self);for(const i of r)i()}finally{ho(e),Vn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Te(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=as(e=q(e))?e:q(e&&e.provide);const r=function uG(t){return km(t)?xo(void 0,t.useValue):xo(vA(t),Ud)}(e);if(as(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=xo(void 0,Ud,!0),i.factory=()=>Rg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ud&&(n.value=oG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function lG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Fm(t){const e=ad(t),n=null!==e?e.factory:ts(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function aG(t){const e=t.length;if(e>0)throw function Cu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function M$(t){const e=t&&(t[ud]||t[vT]);if(e){const n=function R$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function vA(t,e,n){let r;if(as(t)){const i=q(t);return ts(i)||Fm(i)}if(km(t))r=()=>q(t.useValue);else if(function yA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Rg(t.deps||[]));else if(function mA(t){return!(!t||!t.useExisting)}(t))r=()=>$(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function cG(t){return!!t.deps}(t))return ts(i)||Fm(i);r=()=>new i(...Rg(t.deps))}return r}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Lm(t,e){for(const n of t)Array.isArray(n)?Lm(n,e):n&&Sg(n)?Lm(n.\u0275providers,e):e(n)}class hG{}class wA{}class pG{resolveComponentFactory(e){throw function fG(t){const e=Error(`No component factory found for ${Te(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Pu=(()=>{class t{}return t.NULL=new pG,t})();function gG(){return Mo(St(),E())}function Mo(t,e){return new Rn(An(t,e))}let Rn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=gG,t})();function mG(t){return t instanceof Rn?t.nativeElement:t}class EA{}let Hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function yG(){const t=E(),n=xn(St().index,t);return(Sn(n)?n:t)[11]}(),t})(),_G=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class Ro{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DA=new Ro("15.1.1"),Vm={};function Bm(t){return t.ngOriginalError}class No{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bm(e);for(;n&&Bm(n);)n=Bm(n);return n||null}}function Gr(t){return t instanceof Function?t():t}function CA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const TA="ng-template";function xG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==CA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function SA(t){return 4===t.type&&t.value!==TA}function MG(t,e,n){return e===(4!==t.type||n?t.value:TA)}function RG(t,e,n){let r=4;const i=t.attrs||[],s=function OG(t){for(let e=0;e<t.length;e++)if(eS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!MG(t,u,n)||""===u&&1===e.length){if(Jn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!xG(t.attrs,c,n)){if(Jn(r))return!1;o=!0}continue}const d=NG(8&r?"class":u,i,SA(t),n);if(-1===d){if(Jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==CA(f,c,0)||2&r&&c!==h){if(Jn(r))return!1;o=!0}}}}else{if(!o&&!Jn(r)&&!Jn(u))return!1;if(o&&Jn(u))continue;o=!1,r=u|1&r}}return Jn(r)||o}function Jn(t){return 0==(1&t)}function NG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function PG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function AA(t,e,n=!1){for(let r=0;r<e.length;r++)if(RG(t,e[r],n))return!0;return!1}function xA(t,e){return t?":not("+e.trim()+")":e}function LG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Jn(o)&&(e+=xA(s,i),i=""),r=o,s=s||!Jn(r);n++}return""!==i&&(e+=xA(s,i)),e}const J={};function vi(t){MA(de(),E(),en()+t,!1)}function MA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&wd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Id(e,s,0,n)}ns(n)}function OA(t,e=null,n=null,r){const i=PA(t,e,n,r);return i.resolveInjectorInitializers(),i}function PA(t,e=null,n=null,r,i=new Set){const s=[n||ge,rG(t)];return r=r||("object"==typeof t?void 0:Te(t)),new _A(s,e||Bd(),r||null,i)}let pn=(()=>{class t{static create(n,r){if(Array.isArray(n))return OA({name:""},r,n,"");{const i=n.name??"";return OA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=hu,t.NULL=new fA,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(dA)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=z.Default){const n=E();return null===n?$(t,e):cS(St(),n,q(t),e)}function HA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Hg(n[r]),o.contentQueries(2,e[s],s)}}}function jd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),VT(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function iH(){return rH++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Po(t,e,n,r,i){let s=t.data[e];if(null===s)s=function qm(t,e,n,r,i){const s=HT(),o=Ug(),u=t.data[e]=function cq(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function uj(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function wu(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return hr(s,!0),s}function Fu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zm(t,e,n){Gg(e);try{const r=t.viewQuery;null!==r&&ny(1,r,n);const i=t.template;null!==i&&GA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HA(t,e),t.staticViewQueries&&ny(2,t.viewQuery,n);const s=t.components;null!==s&&function oq(t,e){for(let n=0;n<e.length;n++)Aq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,qg()}}function Hd(t,e,n,r){const i=e[2];if(128!=(128&i)){Gg(e);try{VT(e),function qT(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&GA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&wd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Id(e,c,0,null),zg(e,0)}if(function Tq(t){for(let e=fm(t);null!==e;e=pm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Vg(i[3],1),i[2]|=512}}}(e),function Cq(t){for(let e=fm(t);null!==e;e=pm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];_d(r)&&Hd(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&HA(t,e),o){const c=t.contentCheckHooks;null!==c&&wd(e,c)}else{const c=t.contentHooks;null!==c&&Id(e,c,1),zg(e,1)}!function iq(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ns(~i);else{const s=i,o=n[++r],a=n[++r];cj(o,s),a(2,e[s])}}}finally{ns(-1)}}(t,e);const a=t.components;null!==a&&function sq(t,e){for(let n=0;n<e.length;n++)Sq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ny(2,u,r),o){const c=t.viewCheckHooks;null!==c&&wd(e,c)}else{const c=t.viewHooks;null!==c&&Id(e,c,2),zg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Vg(e[3],-1))}finally{qg()}}}function GA(t,e,n,r,i){const s=en(),o=2&r;try{ns(-1),o&&e.length>22&&MA(t,e,22,!1),n(r,i)}finally{ns(s)}}function Wm(t,e,n){if(Fg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Km(t,e,n){BT()&&(function gq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;vu(n)&&function Eq(t,e,n){const r=An(e,t),i=qA(n),s=t[10],o=Gd(t,jd(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cd(n,e),Gt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=rs(e,t,a,n);Gt(c,e),null!==o&&Dq(0,a-i,c,u,0,o),Xn(u)&&(xn(n.index,e)[8]=rs(e,t,a,n))}}(t,e,n,An(n,e)),64==(64&n.flags)&&ZA(t,e,n))}function Qm(t,e,n=An){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function qA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ym(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ym(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function aq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function zA(t,e,n,r){const i=JA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ex(t).push(r,i.length-1))}function WA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?KA(n,e,i,s):r.hasOwnProperty(i)&&KA(n,e,r[i],s)}return n}function KA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Nn(t,e,n,r,i,s,o,a){const u=An(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ry(t,n,l,r,i),vu(e)&&QA(n,e.index)):3&e.type&&(r=function dq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function QA(t,e){const n=xn(e,t);16&n[2]||(n[2]|=32)}function Zm(t,e,n,r){let i=!1;if(BT()){const s=null===r?null:{"":-1},o=function yq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(AA(e,o.selectors,!1))if(r||(r=[]),Xn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Xm(t,e,a.length)}else r.unshift(o),Xm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,YA(t,e,n,a,s,u)),s&&function _q(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Eu(n.mergedAttrs,n.attrs),i}function YA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Xg(Cd(n,e),t,r[c].type);!function wq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Fu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Eu(n.mergedAttrs,l.hostAttrs),Iq(t,n,e,u,l),vq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function lq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=WA(d.inputs,l,u,h?h.inputs:null),c=WA(d.outputs,l,c,p);const m=null===u||null===o||SA(e)?null:bq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function ZA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function lj(){return X.lFrame.currentDirectiveIndex}();try{ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];$g(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&mq(u,c)}}finally{ns(-1),$g(o)}}function mq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xm(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function vq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function Iq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ts(i.type)),o=new Iu(s,Xn(i),C);t.blueprint[r]=o,n[r]=o,function fq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function pq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Fu(t,n,i.hostVars,J),i)}function pr(t,e,n,r,i,s){const o=An(t,e);!function Jm(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Z(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function Dq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function bq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function XA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function Sq(t,e){const n=xn(e,t);if(_d(n)){const r=n[1];48&n[2]?Hd(r,n,r.template,n[8]):n[5]>0&&ey(n)}}function ey(t){for(let r=fm(t);null!==r;r=pm(r))for(let i=10;i<r.length;i++){const s=r[i];if(_d(s))if(512&s[2]){const o=s[1];Hd(o,s,o.template,s[8])}else s[5]>0&&ey(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=xn(n[r],t);_d(i)&&i[5]>0&&ey(i)}}function Aq(t,e){const n=xn(e,t),r=n[1];(function xq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),zm(r,n,n[8])}function Gd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ty(t){for(;t;){t[2]|=32;const e=Mu(t);if(G$(t)&&!e)return t;t=e}return null}function qd(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Hd(t,e,t.template,n)}catch(o){throw r&&nx(e,o),o}finally{i.end&&i.end()}}function ny(t,e,n){Hg(0),e(t,n)}function JA(t){return t[7]||(t[7]=[])}function ex(t){return t.cleanup||(t.cleanup=[])}function nx(t,e){const n=t[9],r=n?n.get(No,null):null;r&&r.handleError(e)}function ry(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function zd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Cg(i,a):2==s&&(r=Cg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Wd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Tt(s)),Zn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Wd(u[1],u,c,r)}const o=n.type;if(8&o)Wd(t,e,n.child,r);else if(32&o){const a=hm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=KS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Mu(e[16]);Wd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Lu{get rootNodes(){const e=this._lView,n=e[1];return Wd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Zn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ym(e,r),Ad(n,r))}this._attachedToViewContainer=!1}US(this._lView[1],this._lView)}onDestroy(e){zA(this._lView[1],this._lView,null,e)}markForCheck(){ty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vH(t,e){Ru(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class Mq extends Lu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;qd(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class rx extends Pu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new Vu(n,this.ngModule)}}function ix(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Nq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ld(r);const i=this.injector.get(e,Vm,r);return i!==Vm||n===Vm?i:this.parentInjector.get(e,n,r)}}class Vu extends wA{get inputs(){return ix(this.componentDef.inputs)}get outputs(){return ix(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function VG(t){return t.map(LG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof jr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Nq(e,s):e,a=o.get(EA,null);if(null===a)throw new S(407,!1);const u=o.get(_G,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function uq(t,e,n){return t.selectRootElement(e,n===lr.ShadowDom)}(c,r,this.componentDef.encapsulation):mm(c,l,function Rq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Ym(0,null,null,1,0,null,null,null,null,null),p=jd(null,f,null,h,null,null,a,c,u,o,null);let m,y;Gg(p);try{const I=this.componentDef;let D,v=null;I.findHostDirectiveDefs?(D=[],v=new Map,I.findHostDirectiveDefs(I,D,v),D.push(I)):D=[I];const N=function Oq(t,e){const n=t[1];return t[22]=e,Po(n,22,2,"#host",null)}(p,d),V=function Pq(t,e,n,r,i,s,o,a){const u=i[1];!function Fq(t,e,n,r){for(const i of t)e.mergedAttrs=Eu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(zd(e,e.mergedAttrs,!0),null!==n&&ZS(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=jd(i,qA(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Xm(u,t,r.length-1),Gd(i,l),i[t.index]=l}(N,d,I,D,p,a,c);y=LT(f,22),d&&function Vq(t,e,n,r){if(r)Kg(t,n,["ng-version",DA.full]);else{const{attrs:i,classes:s}=function UG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Jn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Kg(t,n,i),s&&s.length>0&&YS(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function Uq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),m=function Lq(t,e,n,r,i,s){const o=St(),a=i[1],u=An(o,i);YA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Gt(rs(i,a,o.directiveStart+l,o),i);ZA(a,i,o),u&&Gt(u,i);const c=rs(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Wm(a,o,t),c}(V,I,D,v,p,[Bq]),zm(f,p,null)}finally{qg()}return new kq(this.componentType,m,Mo(y,p),p,y)}}class kq extends hG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Mq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ry(s[1],s,i,e,n),QA(s,this._tNode.index)}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Bq(){const t=St();vd(E()[1],t)}function ve(t){let e=function sx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=iy(t.inputs),o.declaredInputs=iy(t.declaredInputs),o.outputs=iy(t.outputs);const a=i.hostBindings;a&&Gq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&jq(t,u),c&&Hq(t,c),bg(t.inputs,i.inputs),bg(t.declaredInputs,i.declaredInputs),bg(t.outputs,i.outputs),Xn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ve&&(n=!1)}}e=Object.getPrototypeOf(e)}!function $q(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Eu(i.hostAttrs,n=Eu(n,i.hostAttrs))}}(r)}function iy(t){return t===Pr?{}:t===ge?[]:t}function jq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Hq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Gq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Kd=null;function us(){if(!Kd){const t=Ae.Symbol;if(t&&t.iterator)Kd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Kd=r)}}}return Kd}function Qd(t){return!!function sy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&us()in t)}function qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function mr(t,e,n,r){const i=E();return qt(i,vo(),e)&&(de(),pr(Ve(),i,t,e,n,r)),mr}function Lo(t,e,n,r){return qt(t,vo(),n)?e+Z(n)+r:J}function qo(t,e,n){const r=E();return qt(r,vo(),e)&&Nn(de(),Ve(),r,t,e,r[11],n,!1),qo}function oy(t,e,n,r,i){const o=i?"class":"style";ry(t,n,e.inputs[o],o,r)}function we(t,e,n,r){const i=E(),s=de(),o=22+t,a=i[11],u=i[o]=mm(a,e,function _j(){return X.lFrame.currentNamespace}()),c=s.firstCreatePass?function rz(t,e,n,r,i,s,o){const a=e.consts,c=Po(e,t,2,i,yi(a,s));return Zm(e,n,c,yi(a,o)),null!==c.attrs&&zd(c,c.attrs,!1),null!==c.mergedAttrs&&zd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return hr(c,!0),ZS(a,u,c),32!=(32&c.flags)&&kd(s,i,u,c),0===function nj(){return X.lFrame.elementDepthCount}()&&Gt(u,i),function rj(){X.lFrame.elementDepthCount++}(),md(c)&&(Km(s,i,c),Wm(s,c,i)),null!==r&&Qm(i,c),we}function Ie(){let t=St();Ug()?function Bg(){X.lFrame.isParent=!1}():(t=t.parent,hr(t,!1));const e=t;!function ij(){X.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(vd(n,t),Fg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ej(t){return 0!=(8&t.flags)}(e)&&oy(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dj(t){return 0!=(16&t.flags)}(e)&&oy(n,e,E(),e.stylesWithoutHost,!1),Ie}function er(t,e,n,r){return we(t,e,n,r),Ie(),er}function Bu(t){return!!t&&"function"==typeof t.then}const cy=function Ix(t){return!!t&&"function"==typeof t.subscribe};function tn(t,e,n,r){const i=E(),s=de(),o=St();return function Dx(t,e,n,r,i,s,o){const a=md(r),c=t.firstCreatePass&&ex(t),l=e[8],d=JA(e);let h=!0;if(3&r.type||o){const m=An(r,e),y=o?o(m):m,I=d.length,D=o?N=>o(Tt(N[r.index])):r.index;let v=null;if(!o&&a&&(v=function sz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=Cx(r,e,l,s,!1);const N=n.listen(y,i,s);d.push(s,N),c&&c.push(i,D,I,I+1)}}else s=Cx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),B=d.length;d.push(s,V),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[11],o,t,e,r),tn}function bx(t,e,n,r){try{return!1!==n(r)}catch(i){return nx(t,i),!1}}function Cx(t,e,n,r,i){return function s(o){if(o===Function)return r;ty(t.componentOffset>-1?xn(t.index,e):e);let u=bx(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=bx(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Tx(t=1){return function hj(t){return(X.lFrame.contextLView=function fj(t,e){for(;t>0;)e=e[15],t--;return e}(t,X.lFrame.contextLView))[8]}(t)}function ly(t,e,n){return dy(t,"",e,"",n),ly}function dy(t,e,n,r,i){const s=E(),o=Lo(s,e,n,r);return o!==J&&Nn(de(),Ve(),s,t,o,s[11],i,!1),dy}function Zd(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function hy(t){return 2|t}function ls(t){return(131068&t)>>2}function fy(t,e){return-131069&t|e<<2}function py(t){return 1|t}function Px(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wi(s):ls(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];pz(t[a],e)&&(u=!0,t[a+1]=r?py(l):hy(l)),a=r?wi(l):ls(l)}u&&(t[n+1]=r?hy(s):py(s))}function pz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&To(t,e)>=0}function Xd(t,e){return function tr(t,e,n,r){const i=E(),s=de(),o=function Br(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Gx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[en()],o=function Hx(t,e){return e>=t.expandoStartIndex}(t,n);(function Kx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Dz(t,e,n,r){const i=function jg(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$u(n=gy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=gy(i,t,e,n,r),null===s){let u=function bz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ls(r))return t[wi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=gy(null,t,e,u[1],r),u=$u(u,e.attrs,r),function Cz(t,e,n,r){t[wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Tz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$u(r,t[s].hostAttrs,n);return $u(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function hz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wi(o),u=ls(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||To(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=wi(t[a+1]);t[r+1]=Zd(h,a),0!==h&&(t[h+1]=fy(t[h+1],r)),t[a+1]=function lz(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Zd(a,0),0!==a&&(t[a+1]=fy(t[a+1],r)),a=r;else t[r+1]=Zd(u,0),0===a?a=r:t[u+1]=fy(t[u+1],r),u=r;c&&(t[r+1]=hy(t[r+1])),Px(t,l,r,!0),Px(t,l,r,!1),function fz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&To(s,e)>=0&&(n[r+1]=py(n[r+1]))}(e,l,t,r,s),o=Zd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==J&&qt(i,o,e)&&function zx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function dz(t){return 1==(1&t)}(c)?Wx(u,e,n,i,ls(c),o):void 0;Jd(l)||(Jd(s)||function cz(t){return 2==(2&t)}(c)&&(s=Wx(u,null,n,i,a,o)),function xH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:hn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=hn.Important),t.setStyle(n,r,i,s))}}(r,o,yd(en(),n),i,s))}(s,s.data[en()],i,i[11],t,i[o+1]=function xz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Te(_i(t)))),t}(e,n),r,o)}(t,e,null,!0),Xd}function gy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=$u(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $u(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Wx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===J&&(h=d?ge:void 0);let f=d?nm(h,r):l===r?h:void 0;if(c&&!Jd(f)&&(f=nm(u,r)),Jd(f)&&(a=f,o))return a;const p=t[i+1];i=o?wi(p):ls(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=nm(u,r))}return a}function Jd(t){return void 0!==t}function rt(t,e=""){const n=E(),r=de(),i=t+22,s=r.firstCreatePass?Po(r,i,1,e,null):r.data[i],o=n[i]=function gm(t,e){return t.createText(e)}(n[11],e);kd(r,n,o,s),hr(s,!1)}function my(t){return eh("",t,""),my}function eh(t,e,n){const r=E(),i=Lo(r,t,e,n);return i!==J&&function qr(t,e,n){const r=yd(e,t);!function LS(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,en(),i),eh}const Ko="en-US";let mM=Ko;function vy(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)vy(t[s],e,n,r,i);else{const s=de(),o=E();let a=as(t)?t:q(t.provide),u=vA(t);const c=St(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(as(t)||!t.multi){const f=new Iu(u,i,C),p=Iy(a,e,i?l:l+h,d);-1===p?(Xg(Cd(c,o),s,a),wy(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Iy(a,e,l+h,d),p=Iy(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Xg(Cd(c,o),s,a);const I=function WW(t,e,n,r,i){const s=new Iu(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,$M(s,i,r&&!n),s}(i?zW:qW,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),wy(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else wy(s,t,f>-1?f:p,$M(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function wy(t,e,n,r){const i=as(e),s=function sG(t){return!!t.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function $M(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Iy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qW(t,e,n,r){return Ey(this.multi,[])}function zW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=rs(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Ey(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ey(i,s);return s}function Ey(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function GW(t,e,n){const r=de();if(r.firstCreatePass){const i=Xn(t);vy(n,r.data,r.blueprint,i,!0),vy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Qo{}class jM{}class HM extends Qo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rx(this);const r=Tn(e);this._bootstrapComponents=Gr(r.bootstrap),this._r3Injector=PA(e,n,[{provide:Qo,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],Te(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dy extends jM{constructor(e){super(),this.moduleType=e}create(e){return new HM(this.moduleType,e)}}class QW extends Qo{constructor(e,n,r){super(),this.componentFactoryResolver=new rx(this),this.instance=null;const i=new _A([...e,{provide:Qo,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],n||Bd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function sh(t,e,n=null){return new QW(t,e,n).injector}let YW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=pA(0,n.type),i=r.length>0?sh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(jr))}),t})();function GM(t){t.getStandaloneInjector=e=>e.get(YW).getOrCreateStandaloneInjector(t)}function ZM(t,e,n){const r=function Jt(){const t=X.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=E();return i[r]===J?function gr(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function Uu(t,e){return t[e]}(i,r)}function Cy(t){return e=>{setTimeout(t,void 0,e)}}const He=class I3 extends kr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Cy(s),i&&(i=Cy(i)),o&&(o=Cy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof bn&&e.add(a),a}};function E3(){return this._results[us()]()}class Ty{get changes(){return this._changes||(this._changes=new He)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=us(),r=Ty.prototype;r[n]||(r[n]=E3)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function $n(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function kj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zr=(()=>{class t{}return t.__NG_ELEMENT_ID__=C3,t})();const D3=zr,b3=class extends D3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=jd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),zm(r,i,e),new Lu(i)}};function C3(){return oh(St(),E())}function oh(t,e){return 4&t.type?new b3(e,t,Mo(t,e)):null}let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=T3,t})();function T3(){return sR(St(),E())}const S3=rr,rR=class extends S3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zg(this._hostTNode,this._hostLView);if(rS(e)){const n=Dd(e,this._hostLView),r=Ed(e);return new Io(n[1].data[r+8],n)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=iR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function bu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Vu(_e(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(jr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function tj(t){return Zn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new rR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function IH(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],gS(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function EH(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=wm(s,o),u=r[11],c=Nd(u,o[7]);return null!==c&&function _H(t,e,n,r,i,s){r[0]=i,r[6]=e,Ru(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),gS(Sy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=iR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ym(this._lContainer,n);r&&(Ad(Sy(this._lContainer),n),US(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=ym(this._lContainer,n);return r&&null!=Ad(Sy(this._lContainer),n)?new Lu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iR(t){return t[8]}function Sy(t){return t[8]||(t[8]=[])}function sR(t,e){let n;const r=e[t.index];if(Zn(r))n=r;else{let i;if(8&t.type)i=Tt(r);else{const s=e[11];i=s.createComment("");const o=An(t,e);ss(s,Nd(s,o),i,function TH(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=XA(r,e,i,t),Gd(e,n)}return new rR(n,t,e)}class Ay{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class xy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new xy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==fR(e,n).matches&&this.queries[n].setDirty()}}class oR{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class My{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new My(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ry{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ry(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,A3(n,s)),this.matchTNodeWithReadOption(e,n,Td(n,e,s,!1,!1))}else r===zr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Td(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rn||i===rr||i===zr&&4&n.type)this.addMatch(n.index,-2);else{const s=Td(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function A3(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function M3(t,e,n,r){return-1===n?function x3(t,e){return 11&t.type?Mo(t,e):4&t.type?oh(t,e):null}(e,t):-2===n?function R3(t,e,n){return n===Rn?Mo(e,t):n===zr?oh(e,t):n===rr?sR(e,t):void 0}(t,e,r):rs(t,t[1],n,e)}function aR(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:M3(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Ny(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=aR(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&Ny(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];Ny(f[1],f,c,r)}}}}}return r}function uR(t){const e=E(),n=de(),r=WT();Hg(r+1);const i=fR(n,r);if(t.dirty&&function ej(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ny(n,e,r,[]):aR(n,e,i,r);t.reset(s,mG),t.notifyOnChanges()}return!0}return!1}function cR(t,e,n,r){const i=de();if(i.firstCreatePass){const s=St();(function hR(t,e,n){null===t.queries&&(t.queries=new My),t.queries.track(new Ry(e,n))})(i,new oR(e,n,r),s.index),function O3(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function dR(t,e,n){const r=new Ty(4==(4&n));zA(t,e,r,r.destroy),null===e[19]&&(e[19]=new xy),e[19].queries.push(new Ay(r))}(i,E(),n)}function fR(t,e){return t.queries.getByIndex(e)}function uh(...t){}const ch=new L("Application Initializer");let lh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=uh,this.reject=uh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bu(s))n.push(s);else if(cy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)($(ch,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yu=new L("AppId",{providedIn:"root",factory:function NR(){return`${Ly()}${Ly()}${Ly()}`}});function Ly(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kR=new L("Platform Initializer"),dh=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OR=new L("appBootstrapListener");let t4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Wr=new L("LocaleId",{providedIn:"root",factory:()=>le(Wr,z.Optional|z.SkipSelf)||function n4(){return typeof $localize<"u"&&$localize.locale||Ko}()});class i4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let PR=(()=>{class t{compileModuleSync(n){return new Dy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Gr(Tn(n).declarations).reduce((o,a)=>{const u=_e(a);return u&&o.push(new Vu(u)),o},[]);return new i4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const a4=(()=>Promise.resolve(0))();function Vy(t){typeof Zone>"u"?a4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function u4(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function d4(t){const e=()=>{!function l4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,By(t),t.isCheckStableRunning=!0,Uy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),By(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return VR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),UR(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return VR(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),UR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,By(t),Uy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,c4,uh,uh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const c4={};function Uy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function By(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function VR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UR(t){t._nesting--,Uy(t)}class h4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const BR=new L(""),hh=new L("");let Hy,$y=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hy||(function f4(t){Hy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),Vy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Oe),$(jy),$(hh))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),jy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Hy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ii=null;const $R=new L("AllowMultipleToken"),Gy=new L("PlatformDestroyListeners");class jR{constructor(e,n){this.name=e,this.token=n}}function GR(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=qy();if(!o||o.injector.get($R,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function m4(t){if(Ii&&!Ii.get($R,!1))throw new S(400,!1);Ii=t;const e=t.get(zR);(function HR(t){const e=t.get(kR,null);e&&e.forEach(n=>n())})(t)}(function qR(t=[],e){return pn.create({name:e,providers:[{provide:Om,useValue:"platform"},{provide:Gy,useValue:new Set([()=>Ii=null])},...t]})}(a,r))}return function _4(t){const e=qy();if(!e)throw new S(401,!1);return e}()}}function qy(){return Ii?.get(zR)??null}let zR=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function KR(t,e){let n;return n="noop"===t?new h4:("zone.js"===t?void 0:t)||new Oe(e),n}(r?.ngZone,function WR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Oe,useValue:i}];return i.run(()=>{const o=pn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(No,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{ph(this._modules,a),c.unsubscribe()})}),function QR(t,e,n){try{const r=n();return Bu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(lh);return c.runInitializers(),c.donePromise.then(()=>(function yM(t){Ln(t,"Expected localeId to be defined"),"string"==typeof t&&(mM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Wr,Ko)||Ko),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=YR({},r);return function p4(t,e,n){const r=new Dy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(fh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Gy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(pn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function YR(t,e){return Array.isArray(e)?e.reduce(YR,t):{...t,...e}}let fh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Le(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Le(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),Vy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function I$(...t){const e=du(t),n=function p$(t,e){return"number"==typeof Eg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Kn(r[0]):lo(n)(tt(r,e)):cr}(s,o.pipe(function E$(t={}){const{connector:e=(()=>new kr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return yt((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Dg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new lu({next:D=>I.next(D),error:D=>{d=!0,h(),a=Dg(f,n,D),I.error(D)},complete:()=>{l=!0,h(),a=Dg(f,r),I.complete()}}),Kn(m).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof wA;if(!this._injector.get(lh).done)throw!i&&function fo(t){const e=_e(t)||Bt(t)||Zt(t);return null!==e&&e.standalone}(n),new S(405,false);let o;o=i?n:this._injector.get(Pu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function g4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Qo),c=o.create(pn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(BR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),ph(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ph(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(OR,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ph(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)($(Oe),$(jr),$(No))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ph(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let gh=(()=>{class t{}return t.__NG_ELEMENT_ID__=w4,t})();function w4(t){return function I4(t,e,n){if(vu(t)&&!n){const r=xn(t.index,e);return new Lu(r,r)}return 47&t.type?new Lu(e[16],e):null}(St(),E(),16==(16&t))}class tN{constructor(){}supports(e){return Qd(e)}create(e){return new S4(e)}}const T4=(t,e)=>e;class S4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<rN(r,i,s)?n:r,a=rN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Qd(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Zq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[us()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new A4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new nN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class A4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class nN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new x4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sN(){return new _h([new tN])}let _h=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||sN()),deps:[[t,new Tu,new Ht]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:sN}),t})();const O4=GR(null,"core",[]);let P4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(fh))},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({}),t})();function Xo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Yy=null;function vr(){return Yy}class V4{}const gn=new L("DocumentToken");let Zy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return function U4(){return $(aN)}()},providedIn:"platform"}),t})();const B4=new L("Location Initialized");let aN=(()=>{class t extends Zy{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){const r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){uN()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){uN()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)($(gn))},t.\u0275prov=j({token:t,factory:function(){return function $4(){return new aN($(gn))}()},providedIn:"platform"}),t})();function uN(){return!!window.history.pushState}function Xy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function cN(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Qr(t){return t&&"?"!==t[0]?"?"+t:t}let fs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return le(dN)},providedIn:"root"}),t})();const lN=new L("appBaseHref");let dN=(()=>{class t extends fs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Zy),$(lN,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),j4=(()=>{class t extends fs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Xy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Zy),$(lN,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Jy=(()=>{class t{constructor(n){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function q4(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(cN(hN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qr(r))}normalize(n){return t.stripTrailingSlash(function G4(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,hN(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Qr,t.joinWithSlash=Xy,t.stripTrailingSlash=cN,t.\u0275fac=function(n){return new(n||t)($(fs))},t.\u0275prov=j({token:t,factory:function(){return function H4(){return new Jy($(fs))}()},providedIn:"root"}),t})();function hN(t){return t.replace(/\/index.html$/,"")}class R8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bN=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new R8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),CN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{CN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(rr),C(zr),C(_h))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function CN(t,e){t.context.$implicit=e.item}let p_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({}),t})();let u6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new c6($(gn),window)}),t})();class c6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function l6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=MN(this.window.history)||MN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function MN(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V6 extends V4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y_ extends V6{static makeCurrent(){!function L4(t){Yy||(Yy=t)}(new y_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function U6(){return tc=tc||document.querySelector("base"),tc?tc.getAttribute("href"):null}();return null==n?null:function B6(t){xh=xh||document.createElement("a"),xh.setAttribute("href",t);const e=xh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function A8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let xh,tc=null;const FN=new L("TRANSITION_ID"),j6=[{provide:ch,useFactory:function $6(t,e,n){return()=>{n.get(lh).donePromise.then(()=>{const r=vr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[FN,gn,pn],multi:!0}];let G6=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Mh=new L("EventManagerPlugins");let Rh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)($(Mh),$(Oe))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class LN{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=vr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let VN=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),nc=(()=>{class t extends VN{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(UN),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(UN))}}return t.\u0275fac=function(n){return new(n||t)($(gn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function UN(t){vr().remove(t)}const __={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},v_=/%COMP%/g;function w_(t,e){return e.flat(100).map(n=>n.replace(v_,t))}function jN(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let I_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new E_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case lr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Y6(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case lr.ShadowDom:return new Z6(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=w_(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)($(Rh),$(nc),$(Yu))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class E_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(__[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(GN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(GN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=__[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=__[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(hn.DashCase|hn.Important)?e.style.setProperty(n,r,i&hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,jN(r)):this.eventManager.addEventListener(e,n,jN(r))}}function GN(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Y6 extends E_{constructor(e,n,r,i){super(e),this.component=r;const s=w_(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function W6(t){return"_ngcontent-%COMP%".replace(v_,t)}(i+"-"+r.id),this.hostAttr=function K6(t){return"_nghost-%COMP%".replace(v_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Z6 extends E_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=w_(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let X6=(()=>{class t extends LN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(gn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const qN=["alt","control","meta","shift"],J6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tK=(()=>{class t extends LN{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),qN.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=J6[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qN.forEach(o=>{o!==i&&(0,eK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(gn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const WN=[{provide:dh,useValue:"browser"},{provide:kR,useValue:function nK(){y_.makeCurrent()},multi:!0},{provide:gn,useFactory:function iK(){return function OH(t){bm=t}(document),document},deps:[]}],sK=GR(O4,"browser",WN),KN=new L(""),QN=[{provide:hh,useClass:class H6{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?vr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:BR,useClass:$y,deps:[Oe,jy,hh]},{provide:$y,useClass:$y,deps:[Oe,jy,hh]}],YN=[{provide:Om,useValue:"root"},{provide:No,useFactory:function rK(){return new No},deps:[]},{provide:Mh,useClass:X6,multi:!0,deps:[gn,Oe,dh]},{provide:Mh,useClass:tK,multi:!0,deps:[gn]},{provide:I_,useClass:I_,deps:[Rh,nc,Yu]},{provide:EA,useExisting:I_},{provide:VN,useExisting:nc},{provide:nc,useClass:nc,deps:[gn]},{provide:Rh,useClass:Rh,deps:[Mh,Oe]},{provide:class d6{},useClass:G6,deps:[]},[]];let oK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Yu,useValue:n.appId},{provide:FN,useExisting:Yu},j6]}}}return t.\u0275fac=function(n){return new(n||t)($(KN,12))},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({providers:[...YN,...QN],imports:[p_,P4]}),t})(),ZN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(gn))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function uK(){return new ZN($(gn))}(),r},providedIn:"root"}),t})();function G(...t){return tt(t,du(t))}typeof window<"u"&&window;class ar extends kr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Nh=cu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:mK}=Array,{getPrototypeOf:yK,prototype:_K,keys:vK}=Object;function ek(t){if(1===t.length){const e=t[0];if(mK(e))return{args:e,keys:null};if(function wK(t){return t&&"object"==typeof t&&yK(t)===_K}(e)){const n=vK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:IK}=Array;function tk(t){return se(e=>function EK(t,e){return IK(e)?t(...e):t(e)}(t,e))}function nk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rk(...t){const e=du(t),n=pT(t),{args:r,keys:i}=ek(t);if(0===r.length)return tt([],e);const s=new Le(function DK(t,e,n=Xi){return r=>{ik(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)ik(e,()=>{const c=tt(t[u],e);let l=!1;c.subscribe(ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>nk(i,o):Xi));return n?s.pipe(tk(n)):s}function ik(t,e,n){t?Or(n,t,e):e()}function C_(...t){return function bK(){return lo(1)}()(tt(t,du(t)))}function sk(t){return new Le(e=>{Kn(t()).subscribe(e)})}function rc(t,e){const n=Ce(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function T_(){return yt((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ok extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,J0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bn;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bn.EMPTY)}return e}refCount(){return T_()(this)}}function wr(t,e){return yt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;Kn(t(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ic(t){return t<=0?()=>cr:yt((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Di(t,e){return yt((n,r)=>{let i=0;n.subscribe(ut(r,s=>t.call(e,s,i++)&&r.next(s)))})}function kh(t){return yt((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ak(t=TK){return yt((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function TK(){return new Nh}function bi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Di((i,s)=>t(i,s,r)):Xi,ic(1),n?kh(e):ak(()=>new Nh))}function ps(t,e){return Ce(e)?bt(t,e,1):bt(t,1)}function xt(t,e,n){const r=Ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?yt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Xi}function Ci(t){return yt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,o=>{s=Kn(t(o,Ci(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function SK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ut(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function uk(t,e){return yt(SK(t,e,arguments.length>=2,!0))}function S_(t){return t<=0?()=>cr:yt((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ck(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Di((i,s)=>t(i,s,r)):Xi,S_(1),n?kh(e):ak(()=>new Nh))}function A_(t){return yt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",sc=Symbol("RouteTitle");class MK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Jo(t){return new MK(t)}function RK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ir(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lk(t[i],e[i]))return!1;return!0}function lk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function dk(t){return Array.prototype.concat.apply([],t)}function hk(t){return t.length>0?t[t.length-1]:null}function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ti(t){return cy(t)?t:Bu(t)?tt(Promise.resolve(t)):G(t)}const Oh=!1,kK={exact:function gk(t,e,n){if(!ms(t.segments,e.segments)||!Ph(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!gk(t.children[r],e.children[r],n))return!1;return!0},subset:mk},fk={exact:function OK(t,e){return Ir(t,e)},subset:function PK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lk(t[n],e[n]))},ignored:()=>!0};function pk(t,e,n){return kK[n.paths](t.root,e.root,n.matrixParams)&&fk[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function mk(t,e,n){return yk(t,e,e.segments,n)}function yk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ms(i,n)||e.hasChildren()||!Ph(i,n,r))}if(t.segments.length===n.length){if(!ms(t.segments,n)||!Ph(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!mk(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ms(t.segments,i)&&Ph(t.segments,i,r)&&t.children[ie])&&yk(t.children[ie],e,s,r)}}function Ph(t,e,n){return e.every((r,i)=>fk[n](t[i].parameters,r.parameters))}class gs{constructor(e=new oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return VK.serialize(this)}}class oe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Mt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fh(this)}}class oc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Jo(this.parameters)),this._parameterMap}toString(){return wk(this)}}function ms(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ac=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new x_},providedIn:"root"}),t})();class x_{parse(e){const n=new WK(e);return new gs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${uc(e.root,!0)}`,r=function $K(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Lh(n)}=${Lh(i)}`).join("&"):`${Lh(n)}=${Lh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function UK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const VK=new x_;function Fh(t){return t.segments.map(e=>wk(e)).join("/")}function uc(t,e){if(!t.hasChildren())return Fh(t);if(e){const n=t.children[ie]?uc(t.children[ie],!1):"",r=[];return Mt(t.children,(i,s)=>{s!==ie&&r.push(`${s}:${uc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function LK(t,e){let n=[];return Mt(t.children,(r,i)=>{i===ie&&(n=n.concat(e(r,i)))}),Mt(t.children,(r,i)=>{i!==ie&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ie?[uc(t.children[ie],!1)]:[`${i}:${uc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Fh(t)}/${n[0]}`:`${Fh(t)}/(${n.join("//")})`}}function _k(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lh(t){return _k(t).replace(/%3B/gi,";")}function M_(t){return _k(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vh(t){return decodeURIComponent(t)}function vk(t){return Vh(t.replace(/\+/g,"%20"))}function wk(t){return`${M_(t.path)}${function BK(t){return Object.keys(t).map(e=>`;${M_(e)}=${M_(t[e])}`).join("")}(t.parameters)}`}const jK=/^[^\/()?;=#]+/;function Uh(t){const e=t.match(jK);return e?e[0]:""}const HK=/^[^=?&#]+/,qK=/^[^&#]+/;class WK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new oe(e,n)),r}parseSegment(){const e=Uh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,Oh);return this.capture(e),new oc(Vh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Uh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Uh(this.remaining);i&&(r=i,this.capture(r))}e[Vh(n)]=Vh(r)}parseQueryParam(e){const n=function GK(t){const e=t.match(HK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function zK(t){const e=t.match(qK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=vk(n),s=vk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Uh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,Oh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,Oh)}}function R_(t){return t.segments.length>0?new oe([],{[ie]:t}):t}function Bh(t){const e={};for(const r of Object.keys(t.children)){const s=Bh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function KK(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new oe(t.segments.concat(e.segments),e.children)}return t}(new oe(t.segments,e))}function ys(t){return t instanceof gs}function ZK(t,e,n,r,i){if(0===n.length)return ea(e.root,e.root,e.root,r,i);const s=function Dk(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ek(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Ek(n,e,r)}(n);return s.toRoot()?ea(e.root,e.root,new oe([],{}),r,i):function o(u){const c=function JK(t,e,n,r){if(t.isAbsolute)return new ta(e.root,!0,0);if(-1===r)return new ta(n,n===e.root,0);return function bk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new ta(r,!1,i-s)}(n,r+(cc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?dc(c.segmentGroup,c.index,s.commands):k_(c.segmentGroup,c.index,s.commands);return ea(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function cc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function lc(t){return"object"==typeof t&&null!=t&&t.outlets}function ea(t,e,n,r,i){let o,s={};r&&Mt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:Ik(t,e,n);const a=R_(Bh(o));return new gs(a,s,i)}function Ik(t,e,n){const r={};return Mt(t.children,(i,s)=>{r[s]=i===e?n:Ik(i,e,n)}),new oe(t.segments,r)}class Ek{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cc(r[0]))throw new S(4003,!1);const i=r.find(lc);if(i&&i!==hk(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ta{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function k_(t,e,n){if(t||(t=new oe([],{})),0===t.segments.length&&t.hasChildren())return dc(t,e,n);const r=function t5(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(lc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Tk(u,c,o))return s;r+=2}else{if(!Tk(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new oe(t.segments.slice(r.pathIndex),t.children),dc(s,0,i)}return r.match&&0===i.length?new oe(t.segments,{}):r.match&&!t.hasChildren()?O_(t,e,n):r.match?dc(t,0,i):O_(t,e,n)}function dc(t,e,n){if(0===n.length)return new oe(t.segments,{});{const r=function e5(t){return lc(t[0])?t[0].outlets:{[ie]:t}}(n),i={};return Mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=k_(t.children[o],e,s))}),Mt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(t.segments,i)}}function O_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(lc(s)){const u=n5(s.outlets);return new oe(r,u)}if(0===i&&cc(n[0])){r.push(new oc(t.segments[e].path,Ck(n[0]))),i++;continue}const o=lc(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&cc(a)?(r.push(new oc(o,Ck(a))),i+=2):(r.push(new oc(o,{})),i++)}return new oe(r,{})}function n5(t){const e={};return Mt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=O_(new oe([],{}),0,n))}),e}function Ck(t){const e={};return Mt(t,(n,r)=>e[r]=`${n}`),e}function Tk(t,e,n){return t==n.path&&Ir(e,n.parameters)}const hc="imperative";class Er{constructor(e,n){this.id=e,this.url=n}}class P_ extends Er{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _s extends Er{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $h extends Er{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sk extends Er{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Ak extends Er{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class r5 extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i5 extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s5 extends Er{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o5 extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a5 extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class c5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let g5=(()=>{class t{createUrlTree(n,r,i,s,o,a){return ZK(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),m5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(e){return g5.\u0275fac(e)},providedIn:"root"}),t})();class Mk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=F_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=F_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=L_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return L_(e,this._root).map(n=>n.value)}}function F_(t,e){if(t===e.value)return e;for(const n of e.children){const r=F_(t,n);if(r)return r}return null}function L_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=L_(t,n);if(r.length)return r.unshift(e),r}return[]}class Zr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function na(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Rk extends Mk{constructor(e,n){super(e),this.snapshot=n,V_(this,e)}toString(){return this.snapshot.toString()}}function Nk(t,e){const n=function y5(t,e){const o=new jh([],{},{},"",{},ie,e,null,t.root,-1,{});return new Ok("",new Zr(o,[]))}(t,e),r=new ar([new oc("",{})]),i=new ar({}),s=new ar({}),o=new ar({}),a=new ar(""),u=new ra(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new Rk(new Zr(u,[]),n)}class ra{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(se(c=>c[sc]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Jo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Jo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function _5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jh{get title(){return this.data?.[sc]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ok extends Mk{constructor(e,n){super(n),this.url=e,V_(this,n)}toString(){return Pk(this._root)}}function V_(t,e){e.value._routerState=t,e.children.forEach(n=>V_(t,n))}function Pk(t){const e=t.children.length>0?` { ${t.children.map(Pk).join(", ")} } `:"";return`${t.value}${e}`}function U_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ir(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ir(e.params,n.params)||t.params.next(n.params),function NK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ir(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ir(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function B_(t,e){const n=Ir(t.params,e.params)&&function FK(t,e){return ms(t,e)&&t.every((n,r)=>Ir(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||B_(t.parent,e.parent))}function fc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function w5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fc(t,r,i);return fc(t,r)})}(t,e,n);return new Zr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fc(t,a)),o}}const r=function I5(t){return new ra(new ar(t.url),new ar(t.params),new ar(t.queryParams),new ar(t.fragment),new ar(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>fc(t,s));return new Zr(r,i)}}const $_="ngNavigationCancelingError";function Fk(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Lk(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Lk(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[$_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Vk(t){return Uk(t)&&ys(t.url)}function Uk(t){return t&&t[$_]}class E5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pc,this.attachRef=null}}let pc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new E5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hh=!1;let j_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=le(pc),this.location=le(rr),this.changeDetector=le(gh),this.environmentInjector=le(jr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Hh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Hh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Hh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,Hh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new D5(n,a,i.injector);if(r&&function b5(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]}),t})();class D5{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ra?this.route:e===pc?this.childContexts:this.parent.get(e,n)}}let H_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Lr({type:t,selectors:[["ng-component"]],standalone:!0,features:[GM],decls:1,vars:0,template:function(n,r){1&n&&er(0,"router-outlet")},dependencies:[j_],encapsulation:2}),t})();function Bk(t,e){return t.providers&&!t._injector&&(t._injector=sh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function q_(t){const e=t.children&&t.children.map(q_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=H_),n}function qn(t){return t.outlet||ie}function $k(t,e){const n=t.filter(r=>qn(r)===e);return n.push(...t.filter(r=>qn(r)!==e)),n}function gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class x5{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),U_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=na(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=na(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=na(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=na(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new f5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new d5(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(U_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),U_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=gc(i.snapshot),u=a?.get(Pu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gh{constructor(e,n){this.component=e,this.route=n}}function M5(t,e,n){const r=t._root;return mc(r,e?e._root:null,n,[r.value])}function ia(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function x$(t){return null!==ad(t)}(t)?e.get(t):t:r}function mc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=na(e);return t.children.forEach(o=>{(function N5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function k5(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,e.url)||!Ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!B_(t,e)||!Ir(t.queryParams,e.queryParams);default:return!B_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),mc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gh(a.outlet.component,o))}else o&&yc(e,a,i),i.canActivateChecks.push(new jk(r)),mc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Mt(s,(o,a)=>yc(o,n.getContext(a),i)),i}function yc(t,e,n){const r=na(t),i=t.value;Mt(r,(s,o)=>{yc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Gh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function _c(t){return"function"==typeof t}function z_(t){return t instanceof Nh||"EmptyError"===t?.name}const qh=Symbol("INITIAL_VALUE");function sa(){return wr(t=>rk(t.map(e=>e.pipe(ic(1),function CK(...t){const e=du(t);return yt((n,r)=>{(e?C_(t,n,e):C_(t,n)).subscribe(r)})}(qh)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===qh)return qh;if(!1===n||n instanceof gs)return n}return!0}),Di(e=>e!==qh),ic(1)))}function Hk(t){return function KB(...t){return Y0(t)}(xt(e=>{if(ys(e))throw Fk(0,e)}),se(e=>!0===e))}const W_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gk(t,e,n,r,i){const s=K_(t,e,n);return s.matched?function Y5(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ia(o,t);return Ti(function U5(t){return t&&_c(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(sa(),Hk()):G(!0)}(r=Bk(e,r),e,n).pipe(se(o=>!0===o?s:{...W_})):G(s)}function K_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...W_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||RK)(n,t,e);if(!i)return{...W_};const s={};Mt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function zh(t,e,n,r){if(n.length>0&&function J5(t,e,n){return n.some(r=>Wh(t,e,r)&&qn(r)!==ie)}(t,n,r)){const s=new oe(e,function X5(t,e,n,r){const i={};i[ie]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&qn(s)!==ie){const o=new oe([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[qn(s)]=o}return i}(t,e,r,new oe(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function e7(t,e,n){return n.some(r=>Wh(t,e,r))}(t,n,r)){const s=new oe(t.segments,function Z5(t,e,n,r,i){const s={};for(const o of r)if(Wh(t,n,o)&&!i[qn(o)]){const a=new oe([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[qn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new oe(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Wh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function qk(t,e,n,r){return!!(qn(t)===r||r!==ie&&Wh(e,n,t))&&("**"===t.path||K_(e,t,n).matched)}function zk(t,e,n){return 0===e.length&&!t.children[n]}const Kh=!1;class Qh{constructor(e){this.segmentGroup=e||null}}class Wk{constructor(e){this.urlTree=e}}function vc(t){return rc(new Qh(t))}function Kk(t){return rc(new Wk(t))}class i7{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=zh(this.urlTree.root,[],[],this.config).segmentGroup,n=new oe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ie).pipe(se(s=>this.createUrlTree(Bh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ci(s=>{if(s instanceof Wk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Qh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(se(i=>this.createUrlTree(Bh(i),e.queryParams,e.fragment))).pipe(Ci(i=>{throw i instanceof Qh?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Kh)}createUrlTree(e,n,r){const i=R_(e);return new gs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(se(s=>new oe([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return tt(i).pipe(ps(s=>{const o=r.children[s],a=$k(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(se(u=>({segment:u,outlet:s})))}),uk((s,o)=>(s[o.outlet]=o.segment,s),{}),ck())}expandSegment(e,n,r,i,s,o){return tt(r).pipe(ps(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ci(c=>{if(c instanceof Qh)return G(null);throw c}))),bi(a=>!!a),Ci((a,u)=>{if(z_(a))return zk(n,i,s)?G(new oe([],{})):vc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return qk(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):vc(n):vc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Kk(s):this.lineralizeSegments(r,s).pipe(bt(o=>{const a=new oe(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=K_(n,i,s);if(!a)return vc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?Kk(d):this.lineralizeSegments(i,d).pipe(bt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=Bk(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new oe(i,{})))):G(new oe(i,{}))):Gk(n,r,i,e).pipe(wr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(bt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=zh(n,a,u,h),m=new oe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(se(v=>new oe(a,v)));if(0===h.length&&0===p.length)return G(new oe(a,{}));const y=qn(r)===s;return this.expandSegment(d,m,h,p,y?ie:s,!0).pipe(se(D=>new oe(a.concat(D.segments),D.children)))})):vc(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function Q5(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ia(o,t);return Ti(function P5(t){return t&&_c(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(sa(),Hk())}(e,n,r).pipe(bt(i=>i?this.configLoader.loadChildren(e,n).pipe(xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function n7(t){return rc(Lk(Kh,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ie])return rc(new S(4e3,Kh));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new gs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Mt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,Kh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class o7{}class c7{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=zh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(se(n=>{if(null===n)return null;const r=new jh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Zr(r,n),s=new Ok(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=kk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return tt(Object.keys(r.children)).pipe(ps(i=>{const s=r.children[i],o=$k(n,i);return this.processSegmentGroup(e,o,s,i)}),uk((i,s)=>i&&s?(i.push(...s),i):null),function AK(t,e=!1){return yt((n,r)=>{let i=0;n.subscribe(ut(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),kh(null),ck(),se(i=>{if(null===i)return null;const s=Yk(i);return function l7(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return tt(n).pipe(ps(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),bi(o=>!!o),Ci(o=>{if(z_(o))return zk(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!qk(n,r,i,s))return G(null);let o;if("**"===n.path){const a=i.length>0?hk(i).parameters:{},u=Xk(r)+i.length;o=G({snapshot:new jh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jk(n),qn(n),n.component??n._loadedComponent??null,n,Zk(r),u,e1(n)),consumedSegments:[],remainingSegments:[]})}else o=Gk(r,n,i,e).pipe(se(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=Xk(r)+u.length;return{snapshot:new jh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jk(n),qn(n),n.component??n._loadedComponent??null,n,Zk(r),d,e1(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(wr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function d7(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=zh(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(se(y=>null===y?null:[new Zr(u,y)]));if(0===h.length&&0===p.length)return G([new Zr(u,[])]);const m=qn(n)===s;return this.processSegment(d,h,f,p,m?ie:s).pipe(se(y=>null===y?null:[new Zr(u,y)]))}))}}function h7(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Yk(t){const e=[],n=new Set;for(const r of t){if(!h7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Yk(r.children);e.push(new Zr(r.value,i))}return e.filter(r=>!n.has(r))}function Zk(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xk(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function Jk(t){return t.data||{}}function e1(t){return t.resolve||{}}function t1(t){return"string"==typeof t.title||null===t.title}function Q_(t){return wr(e=>{const n=t(e);return n?tt(n).pipe(se(()=>e)):G(e)})}const oa=new L("ROUTES");let Y_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ti(n.loadComponent()).pipe(se(r1),xt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),A_(()=>{this.componentLoaders.delete(n)})),i=new ok(r,()=>new kr).pipe(T_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=dk(u.get(oa,[],z.Self|z.Optional)));return{routes:c.map(q_),injector:u}}),A_(()=>{this.childrenLoaders.delete(r)})),o=new ok(s,()=>new kr).pipe(T_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ti(n()).pipe(se(r1),bt(i=>i instanceof jM||Array.isArray(i)?G(i):tt(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)($(pn),$(PR))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function r1(t){return function I7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Zh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kr,this.configLoader=le(Y_),this.environmentInjector=le(jr),this.urlSerializer=le(ac),this.rootContexts=le(pc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new c5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new u5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new ar({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Di(r=>0!==r.id),se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),wr(r=>{let i=!1,s=!1;return G(r).pipe(xt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Sk(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),cr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return i1(o.source)&&(n.browserUrlTree=o.extractedUrl),G(o).pipe(wr(l=>{const d=this.transitions?.getValue();return this.events.next(new P_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?cr:Promise.resolve(l)}),function s7(t,e,n,r){return wr(i=>function r7(t,e,n,r,i){return new i7(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(se(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),xt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function p7(t,e,n,r,i){return bt(s=>function u7(t,e,n,r,i,s,o="emptyOnly"){return new c7(t,e,n,r,i,o,s).recognize().pipe(wr(a=>null===a?function a7(t){return new Le(e=>e.error(t))}(new o7):G(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(se(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),xt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new r5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new P_(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=Nk(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Sk(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),cr}}),xt(o=>{const a=new i5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),se(o=>r={...o,guards:M5(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function $5(t,e){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function j5(t,e,n,r){return tt(t).pipe(bt(i=>function K5(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=gc(e)??i,c=ia(a,u);return Ti(function V5(t){return t&&_c(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(bi())})).pipe(sa()):G(!0)}(i.component,i.route,n,e,r)),bi(i=>!0!==i,!0))}(o,r,i,t).pipe(bt(a=>a&&function O5(t){return"boolean"==typeof t}(a)?function H5(t,e,n,r){return tt(e).pipe(ps(i=>C_(function q5(t,e){return null!==t&&e&&e(new l5(t)),G(!0)}(i.route.parent,r),function G5(t,e){return null!==t&&e&&e(new h5(t)),G(!0)}(i.route,r),function W5(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function R5(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>sk(()=>G(o.guards.map(u=>{const c=gc(o.node)??n,l=ia(u,c);return Ti(function L5(t){return t&&_c(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(bi())})).pipe(sa())));return G(s).pipe(sa())}(t,i.path,n),function z5(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>sk(()=>{const o=gc(e)??n,a=ia(s,o);return Ti(function F5(t){return t&&_c(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(bi())}));return G(i).pipe(sa())}(t,i.route,n))),bi(i=>!0!==i,!0))}(r,s,t,e):G(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),xt(o=>{if(r.guardsResult=o.guardsResult,ys(o.guardsResult))throw Fk(0,o.guardsResult);const a=new s5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Di(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Q_(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(xt(a=>{const u=new o5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),wr(a=>{let u=!1;return G(a).pipe(function g7(t,e){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return tt(i).pipe(ps(o=>function m7(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!t1(i)&&(s[sc]=i.title),function y7(t,e,n,r){const i=function _7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return tt(i).pipe(bt(o=>function v7(t,e,n,r){const i=gc(e)??r,s=ia(t,i);return Ti(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(bi(),xt(a=>{s[o]=a}))),S_(1),function xK(t){return se(()=>t)}(s),Ci(o=>z_(o)?cr:rc(o)))}(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=kk(t,n).resolve,i&&t1(i)&&(t.data[sc]=i.title),null)))}(o.route,r,t,e)),xt(()=>s++),S_(1),bt(o=>s===i.length?G(n):cr))})}(n.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),xt(a=>{const u=new a5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Q_(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(xt(l=>{u.component=l}),se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return rk(a(o.targetSnapshot.root)).pipe(kh(),ic(1))}),Q_(()=>this.afterPreactivation()),se(o=>{const a=function v5(t,e,n){const r=fc(t,e._root,n?n._root:void 0);return new Rk(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),xt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>se(r=>(new x5(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),xt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new _s(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),A_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ci(o=>{if(s=!0,Uk(o)){Vk(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new $h(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),Vk(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||i1(r.source)};n.scheduleNavigation(u,hc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Ak(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return cr}))}))}cancelNavigationTransition(n,r,i){const s=new $h(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function i1(t){return t!==hc}let s1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[sc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return le(E7)},providedIn:"root"}),t})(),E7=(()=>{class t extends s1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(ZN))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),D7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return le(C7)},providedIn:"root"}),t})();class b7{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let C7=(()=>{class t extends b7{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xh=new L("",{providedIn:"root",factory:()=>({})});let S7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return le(A7)},providedIn:"root"}),t})(),A7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function x7(t){throw t}function M7(t,e,n){return e.parse("/")}const R7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(t4),this.isNgZoneEnabled=!1,this.options=le(Xh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||x7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||M7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le(S7),this.routeReuseStrategy=le(D7),this.urlCreationStrategy=le(m5),this.titleStrategy=le(s1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dk(le(oa,{optional:!0})??[]),this.navigationTransitions=le(Zh),this.urlSerializer=le(ac),this.location=le(Jy),this.isNgZoneEnabled=le(Oe)instanceof Oe&&Oe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nk(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(q_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ys(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,hc,null,r)}navigate(n,r={skipLocationChange:!1}){return function k7(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new S(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...R7}:!1===r?{...N7}:r,ys(n))return pk(this.currentUrlTree,n,i);const s=this.parseUrl(n);return pk(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jh=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new kr;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof _s&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Xo(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Xo(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Xo(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function lA(t,e,n){return function nG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?cA:Mm}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(C(yn),C(ra),function Sd(t){return function Sj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(eS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(St(),t)}("tabindex"),C(Hr),C(Rn),C(fs))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&tn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&mr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Un]}),t})(),a1=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new He,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof _s&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(lo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=tt(n).pipe(lo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function O7(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(C(yn),C(Rn),C(Hr),C(gh),C(Jh,8))},t.\u0275dir=K({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&cR(i,Jh,5),2&n){let s;uR(s=function lR(){return function k3(t,e){return t[19].queries[e].queryList}(E(),WT())}())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]}),t})();class u1{}let P7=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Di(n=>n instanceof _s),ps(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=sh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return tt(i).pipe(lo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(bt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?tt([s,this.loader.loadComponent(r)]).pipe(lo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(yn),$(PR),$(jr),$(u1),$(Y_))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Z_=new L("");let c1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof P_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _s&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function jA(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function vs(t,e){return{\u0275kind:t,\u0275providers:e}}function d1(){const t=le(pn);return e=>{const n=t.get(fh);if(e!==n.components[0])return;const r=t.get(yn),i=t.get(h1);1===t.get(J_)&&r.initialNavigation(),t.get(f1,null,z.Optional)?.setUpPreloading(),t.get(Z_,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const h1=new L("",{factory:()=>new kr}),J_=new L("",{providedIn:"root",factory:()=>1});const f1=new L("");function B7(t){return vs(0,[{provide:f1,useExisting:P7},{provide:u1,useExisting:t}])}const p1=new L("ROUTER_FORROOT_GUARD"),$7=[Jy,{provide:ac,useClass:x_},yn,pc,{provide:ra,useFactory:function l1(t){return t.routerState.root},deps:[yn]},Y_,[]];function j7(){return new jR("Router",yn)}let g1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[$7,[],{provide:oa,multi:!0,useValue:n},{provide:p1,useFactory:z7,deps:[[yn,new Ht,new Tu]]},{provide:Xh,useValue:r||{}},r?.useHash?{provide:fs,useClass:j4}:{provide:fs,useClass:dN},{provide:Z_,useFactory:()=>{const t=le(u6),e=le(Oe),n=le(Xh),r=le(Zh),i=le(ac);return n.scrollOffset&&t.setOffset(n.scrollOffset),new c1(i,r,t,e,n)}},r?.preloadingStrategy?B7(r.preloadingStrategy).\u0275providers:[],{provide:jR,multi:!0,useFactory:j7},r?.initialNavigation?W7(r):[],[{provide:m1,useFactory:d1},{provide:OR,multi:!0,useExisting:m1}]]}}static forChild(n){return{ngModule:t,providers:[{provide:oa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(p1,8))},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({imports:[H_]}),t})();function z7(t){return"guarded"}function W7(t){return["disabled"===t.initialNavigation?vs(3,[{provide:ch,multi:!0,useFactory:()=>{const e=le(yn);return()=>{e.setUpLocationChangeListener()}}},{provide:J_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?vs(2,[{provide:J_,useValue:0},{provide:ch,multi:!0,deps:[pn],useFactory:e=>{const n=e.get(B4,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(yn),o=e.get(h1);(function r(i){e.get(yn).events.pipe(Di(o=>o instanceof _s||o instanceof $h||o instanceof Ak),se(o=>o instanceof _s||o instanceof $h&&(0===o.code||1===o.code)&&null),Di(o=>null!==o),ic(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Zh).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const m1=new L("");let y1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(Hr),C(Rn))},t.\u0275dir=K({type:t}),t})(),ws=(()=>{class t extends y1{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[ve]}),t})();const Dr=new L("NgValueAccessor"),Z7={provide:Dr,useExisting:Se(()=>Ic),multi:!0},J7=new L("CompositionEventMode");let Ic=(()=>{class t extends y1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function X7(){const t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Hr),C(Rn),C(J7,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&tn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ke([Z7]),ve]}),t})();const zt=new L("NgValidators"),Ai=new L("NgAsyncValidators");function A1(t){return null!=t}function x1(t){return Bu(t)?tt(t):t}function M1(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function R1(t,e){return e.map(n=>n(t))}function N1(t){return t.map(e=>function n9(t){return!t.validate}(e)?e:n=>e.validate(n))}function ev(t){return null!=t?function k1(t){if(!t)return null;const e=t.filter(A1);return 0==e.length?null:function(n){return M1(R1(n,e))}}(N1(t)):null}function tv(t){return null!=t?function O1(t){if(!t)return null;const e=t.filter(A1);return 0==e.length?null:function(n){return function Q7(...t){const e=pT(t),{args:n,keys:r}=ek(t),i=new Le(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Kn(n[l]).subscribe(ut(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?nk(r,a):a),s.complete())}))}});return e?i.pipe(tk(e)):i}(R1(n,e).map(x1)).pipe(se(M1))}}(N1(t)):null}function P1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function F1(t){return t._rawValidators}function L1(t){return t._rawAsyncValidators}function nv(t){return t?Array.isArray(t)?t:[t]:[]}function tf(t,e){return Array.isArray(t)?t.includes(e):t===e}function V1(t,e){const n=nv(e);return nv(t).forEach(i=>{tf(n,i)||n.push(i)}),n}function U1(t,e){return nv(e).filter(n=>!tf(t,n))}class B1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class sn extends B1{get formDirective(){return null}get path(){return null}}class xi extends B1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rv=(()=>{class t extends $1{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(xi,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Xd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ve]}),t})(),iv=(()=>{class t extends $1{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(sn,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Xd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ve]}),t})();const Ec="VALID",rf="INVALID",ua="PENDING",Dc="DISABLED";function uv(t){return(sf(t)?t.validators:t)||null}function cv(t,e){return(sf(e)?e.asyncValidators:t)||null}function sf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class q1{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ec}get invalid(){return this.status===rf}get pending(){return this.status==ua}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(V1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(U1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(U1(e,this._rawAsyncValidators))}hasValidator(e){return tf(this._rawValidators,e)}hasAsyncValidator(e){return tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ua,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===ua)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator=!0;const n=x1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(rf)?rf:Ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function c9(t){return Array.isArray(t)?ev(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function l9(t){return Array.isArray(t)?tv(t):t||null}(this._rawAsyncValidators)}}class bc extends q1{constructor(e,n,r){super(uv(n),cv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function G1(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function H1(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ca=new L("CallSetDisabledState",{providedIn:"root",factory:()=>af}),af="always";function Cc(t,e,n=af){lv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function f9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&z1(t,e)})}(t,e),function g9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function p9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&z1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function h9(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function cf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),df(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lv(t,e){const n=F1(t);null!==e.validator?t.setValidators(P1(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=L1(t);null!==e.asyncValidator?t.setAsyncValidators(P1(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();lf(e._rawValidators,i),lf(e._rawAsyncValidators,i)}function df(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=F1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=L1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return lf(e._rawValidators,r),lf(e._rawAsyncValidators,r),n}function z1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Q1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Y1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Is=class extends q1{constructor(e=null,n,r){super(uv(n),cv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Y1(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Q1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Q1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Y1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let gv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),nO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({}),t})();const mv=new L("NgModelWithFormControlWarning"),x9={provide:sn,useExisting:Se(()=>Sc)};let Sc=(()=>{class t extends sn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new He,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(df(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Cc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){cf(n.control||null,n,!1),function v9(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function K1(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(cf(r||null,n),(t=>t instanceof Is)(i)&&(Cc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function W1(t,e){lv(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function m9(t,e){return df(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lv(this.form,this),this._oldForm&&df(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(C(zt,10),C(Ai,10),C(ca,8))},t.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&tn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ke([x9]),ve,Un]}),t})();const N9={provide:xi,useExisting:Se(()=>hf)};let hf=(()=>{class t extends xi{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new He,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fv(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ic?n=s:function _9(t){return Object.getPrototypeOf(t.constructor)===ws}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function hv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function uf(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(C(sn,13),C(zt,10),C(Ai,10),C(Dr,10),C(mv,8))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ke([N9]),ve,Un]}),t})(),_O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({imports:[nO]}),t})(),vO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ca,useValue:n.callSetDisabledState??af}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({imports:[_O]}),t})(),K9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:mv,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ca,useValue:n.callSetDisabledState??af}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({imports:[_O]}),t})();function wO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){wO(s,r,i,o,a,"next",u)}function a(u){wO(s,r,i,o,a,"throw",u)}o(void 0)})}}const IO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ff=function(t){return function(t){const e=IO(t);return Dv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},pf=function(t){try{return Dv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},gf=()=>{try{return function eQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},DO=t=>{var e,n;return null===(n=null===(e=gf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},bO=t=>{var e;return null===(e=gf())||void 0===e?void 0:e[`_${t}`]};class mf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ds(){try{return"object"==typeof indexedDB}catch{return!1}}function Ac(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Cv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}}class br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function hQ(t,e){return t.replace(fQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new zn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const fQ=/\{\$([^}]+)}/g;function _f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TO(s)&&TO(o)){if(!_f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TO(t){return null!==t&&"object"==typeof t}function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class mQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function yQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Tv),void 0===i.error&&(i.error=Tv),void 0===i.complete&&(i.complete=Tv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tv(){}function Av(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Wt(t){return t&&t._delegate?t._delegate:t}class Kt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bs="[DEFAULT]";class DQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function CQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class TQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const xv=[];var he=(()=>{return(t=he||(he={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",he;var t})();const SO={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},SQ=he.INFO,AQ={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},xQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=AQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class la{constructor(e){this.name=e,this._logLevel=SQ,this._logHandler=xQ,this._userLogHandler=null,xv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?SO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}let AO,xO;const MO=new WeakMap,Mv=new WeakMap,RO=new WeakMap,Rv=new WeakMap,Nv=new WeakMap;let kv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Mv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||RO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function LQ(t){return"function"==typeof t?function FQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function NQ(){return xO||(xO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ov(this),e),Xr(MO.get(this))}:function(...e){return Xr(t.apply(Ov(this),e))}:function(e,...n){const r=t.call(Ov(this),e,...n);return RO.set(r,e.sort?e.sort():[e]),Xr(r)}}(t):(t instanceof IDBTransaction&&function OQ(t){if(Mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function RQ(){return AO||(AO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,kv):t)}function Xr(t){if(t instanceof IDBRequest)return function kQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MO.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}(t);if(Rv.has(t))return Rv.get(t);const e=LQ(t);return e!==t&&(Rv.set(t,e),Nv.set(e,t)),e}const Ov=t=>Nv.get(t);function wf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xr(o.result),u.oldVersion,u.newVersion,Xr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Pv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Xr(n).then(()=>{})}const VQ=["get","getKey","getAll","getAllKeys","count"],UQ=["put","add","delete","clear"],Fv=new Map;function NO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Fv.get(e))return Fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!VQ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Fv.set(e,s),s}!function PQ(t){kv=t(kv)}(t=>({...t,get:(e,n,r)=>NO(e,n)||t.get(e,n,r),has:(e,n)=>!!NO(e,n)||t.has(e,n)}));class BQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function $Q(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Lv="@firebase/app",Cs=new la("@firebase/app"),If="[DEFAULT]",fY={[Lv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ts=new Map,Ef=new Map;function pY(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(Ef.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,t);for(const n of Ts.values())pY(n,t);return!0}function da(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Jr=new br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ha="9.16.0";function OO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=gf())||void 0===t?void 0:t.config})()),!n)throw Jr.create("no-options");const s=Ts.get(i);if(s){if(_f(n,s.options)&&_f(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new TQ(i);for(const u of Ef.values())o.addComponent(u);const a=new mY(n,r,o);return Ts.set(i,a),a}function Vv(t=If){const e=Ts.get(t);if(!e&&t===If)return OO();if(!e)throw Jr.create("no-app",{appName:t});return e}function PO(){return Array.from(Ts.values())}function Ge(t,e,n){var r;let i=null!==(r=fY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cs.warn(a.join(" "))}on(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Rc="firebase-heartbeat-store";let Bv=null;function FO(){return Bv||(Bv=wf("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rc)}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Bv}function $v(){return($v=g(function*(t){try{return(yield FO()).transaction(Rc).objectStore(Rc).get(VO(t))}catch(e){if(e instanceof zn)Cs.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(n.message)}}})).apply(this,arguments)}function LO(t,e){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(t,e){try{const r=(yield FO()).transaction(Rc,"readwrite");return yield r.objectStore(Rc).put(e,VO(t)),r.done}catch(n){if(n instanceof zn)Cs.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n?.message});Cs.warn(r.message)}}})).apply(this,arguments)}function VO(t){return`${t.name}!${t.options.appId}`}class EY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=UO(),{heartbeatsToSend:r,unsentEntries:i}=function DY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ff(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function UO(){return(new Date).toISOString().substring(0,10)}class bY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ds()&&Ac().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function vY(t){return $v.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function BO(t){return ff(JSON.stringify({version:2,heartbeats:t})).length}!function CY(t){on(new Kt("platform-logger",e=>new BQ(e),"PRIVATE")),on(new Kt("heartbeat",e=>new EY(e),"PRIVATE")),Ge(Lv,"0.9.1",t),Ge(Lv,"0.9.1","esm2017"),Ge("fire-js","")}(""),Ge("firebase","9.16.0","app");const $O="@firebase/installations",Hv="0.6.1",HO=`w:${Hv}`,GO="FIS_v2",ei=new br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qO(t){return t instanceof zn&&t.code.includes("request-failed")}function Gv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function zO(t){return{token:t.token,requestStatus:2,expiresIn:kY(t.expiresIn),creationTime:Date.now()}}function qv(t,e){return zv.apply(this,arguments)}function zv(){return(zv=g(function*(t,e){const r=(yield e.json()).error;return ei.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function WO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KO(t,{refreshToken:e}){const n=WO(t);return n.append("Authorization",function OY(t){return`${GO} ${t}`}(e)),n}function Wv(t){return Kv.apply(this,arguments)}function Kv(){return(Kv=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function kY(t){return Number(t.replace("s","000"))}function PY(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Gv(t),i=WO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:GO,appId:t.appId,sdkVersion:HO})},u=yield Wv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:zO(c.authToken)}}throw yield qv("Create Installation",u)})).apply(this,arguments)}function QO(t){return new Promise(e=>{setTimeout(e,t)})}const LY=/^[cdef][\w-]{21}$/;function VY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function UY(t){return function FY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return LY.test(n)?n:""}catch{return""}}function fa(t){return`${t.appName}!${t.appId}`}const pa=new Map;function YO(t,e){const n=fa(t);ZO(n,e),function jY(t,e){const n=function XO(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=t=>{ZO(t.data.key,t.data.fid)}),Ss}();n&&n.postMessage({key:t,fid:e}),function JO(){0===pa.size&&Ss&&(Ss.close(),Ss=null)}()}(n,e)}function ZO(t,e){const n=pa.get(t);if(n)for(const r of n)r(e)}let Ss=null;const As="firebase-installations-store";let Zv=null;function Xv(){return Zv||(Zv=wf("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(As)}})),Zv}function Df(t,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(t,e){const n=fa(t),i=(yield Xv()).transaction(As,"readwrite"),s=i.objectStore(As),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&YO(t,e.fid),e})).apply(this,arguments)}function ew(t){return tw.apply(this,arguments)}function tw(){return(tw=g(function*(t){const e=fa(t),r=(yield Xv()).transaction(As,"readwrite");yield r.objectStore(As).delete(e),yield r.done})).apply(this,arguments)}function Nc(t,e){return nw.apply(this,arguments)}function nw(){return(nw=g(function*(t,e){const n=fa(t),i=(yield Xv()).transaction(As,"readwrite"),s=i.objectStore(As),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&YO(t,a.fid),a})).apply(this,arguments)}function rw(t){return iw.apply(this,arguments)}function iw(){return(iw=g(function*(t){let e;const n=yield Nc(t.appConfig,r=>{const i=qY(r),s=zY(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function qY(t){return tP(t||{fid:VY(),registrationStatus:0})}function zY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ei.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function WY(t,e){return sw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:KY(t)}:{installationEntry:e}}function sw(){return(sw=g(function*(t,e){try{const n=yield PY(t,e);return Df(t.appConfig,n)}catch(n){throw qO(n)&&409===n.customData.serverCode?yield ew(t.appConfig):yield Df(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function KY(t){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(t){let e=yield eP(t.appConfig);for(;1===e.registrationStatus;)yield QO(100),e=yield eP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield rw(t);return r||n}return e})).apply(this,arguments)}function eP(t){return Nc(t,e=>{if(!e)throw ei.create("installation-not-found");return tP(e)})}function tP(t){return function QY(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function YY(t,e){return aw.apply(this,arguments)}function aw(){return(aw=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=ZY(t,n),i=KO(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:HO,appId:t.appId}})},u=yield Wv(()=>fetch(r,a));if(u.ok)return zO(yield u.json());throw yield qv("Generate Auth Token",u)})).apply(this,arguments)}function ZY(t,{fid:e}){return`${Gv(t)}/${e}/authTokens:generate`}function uw(t){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(t,e=!1){let n;const r=yield Nc(t.appConfig,s=>{if(!rP(s))throw ei.create("not-registered");const o=s.authToken;if(!e&&eZ(o))return s;if(1===o.requestStatus)return n=XY(t,e),s;{if(!navigator.onLine)throw ei.create("app-offline");const a=nZ(s);return n=JY(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function XY(t,e){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t,e){let n=yield nP(t.appConfig);for(;1===n.authToken.requestStatus;)yield QO(100),n=yield nP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?uw(t,e):r})).apply(this,arguments)}function nP(t){return Nc(t,e=>{if(!rP(e))throw ei.create("not-registered");return function rZ(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function JY(t,e){return dw.apply(this,arguments)}function dw(){return(dw=g(function*(t,e){try{const n=yield YY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Df(t.appConfig,r),n}catch(n){if(!qO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Df(t.appConfig,r)}else yield ew(t.appConfig);throw n}})).apply(this,arguments)}function rP(t){return void 0!==t&&2===t.registrationStatus}function eZ(t){return 2===t.requestStatus&&!function tZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function nZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hw(){return(hw=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield rw(e);return r?r.catch(console.error):uw(e).catch(console.error),n.fid})).apply(this,arguments)}function fw(){return(fw=g(function*(t,e=!1){const n=t;return yield oZ(n),(yield uw(n,e)).token})).apply(this,arguments)}function oZ(t){return pw.apply(this,arguments)}function pw(){return(pw=g(function*(t){const{registrationPromise:e}=yield rw(t);e&&(yield e)})).apply(this,arguments)}function yw(t){return ei.create("missing-app-config-values",{valueName:t})}const iP="installations",dZ=t=>{const e=t.getProvider("app").getImmediate(),n=function cZ(t){if(!t||!t.options)throw yw("App Configuration");if(!t.name)throw yw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:da(e,"heartbeat"),_delete:()=>Promise.resolve()}},hZ=t=>{const n=da(t.getProvider("app").getImmediate(),iP).getImmediate();return{getId:()=>function iZ(t){return hw.apply(this,arguments)}(n),getToken:i=>function sZ(t){return fw.apply(this,arguments)}(n,i)}};(function fZ(){on(new Kt(iP,dZ,"PUBLIC")),on(new Kt("installations-internal",hZ,"PRIVATE"))})(),Ge($O,Hv),Ge($O,Hv,"esm2017");const _w="@firebase/remote-config",_n=new br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function CZ(t=navigator){return t.languages&&t.languages[0]||t.language}class TZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:CZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,D)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",D(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let D="fetch-client-network";throw"AbortError"===I?.name&&(D="fetch-timeout"),_n.create(D,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let I;try{I=yield h.json()}catch(D){throw _n.create("fetch-client-parse",{originalErrorMessage:D?.message})}m=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw _n.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class xZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function SZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function AZ(t){if(!(t instanceof zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Av(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class NZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cf(t,e){const n=t.target.error||void 0;return _n.create(e,{originalErrorMessage:n&&n?.message})}const xs="app_namespace_store";class FZ{constructor(e,n,r,i=function PZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Cf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(n){e(_n.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xs],"readonly").objectStore(xs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Cf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(_n.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([xs],"readwrite").objectStore(xs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Cf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(_n.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xs],"readwrite").objectStore(xs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Cf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(_n.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class LZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function UZ(){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(){if(!Ds())return!1;try{return yield Ac()}catch{return!1}})).apply(this,arguments)}!function VZ(){on(new Kt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _n.create("registration-window");if(!Ds())throw _n.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _n.create("registration-project-id");if(!o)throw _n.create("registration-api-key");if(!a)throw _n.create("registration-app-id");const u=new FZ(a,r.name,n=n||"firebase"),c=new LZ(u),l=new la(_w);l.logLevel=he.ERROR;const d=new TZ(i,ha,n,s,o,a),h=new xZ(d,u),f=new bZ(h,u,c,l),p=new NZ(r,f,c,u,l);return function IZ(t){const e=Wt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ge(_w,"0.4.1"),Ge(_w,"0.4.1","esm2017")}();const BZ="/firebase-messaging-sw.js",$Z="/firebase-cloud-messaging-push-scope",uP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cP="google.c.a.c_id",HZ="google.c.a.c_l",GZ="google.c.a.ts",qZ="google.c.a.e";var ga=(()=>{return(t=ga||(ga={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ga;var t})();function ti(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const bw="fcm_token_details_db",lP="fcm_token_object_Store";function KZ(t){return Cw.apply(this,arguments)}function Cw(){return Cw=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(bw))return null;let e=null;return(yield wf(bw,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(lP))return;const c=a.objectStore(lP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ti(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ti(d.auth),p256dh:ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ti(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ti(d.auth),p256dh:ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ti(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Pv(bw),yield Pv("fcm_vapid_details_db"),yield Pv("undefined"),QZ(e)?e:null;var r}),Cw.apply(this,arguments)}function QZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ms="firebase-messaging-store";let Tw=null;function Sw(){return Tw||(Tw=wf("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ms)}})),Tw}function dP(t){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(t){const e=Nw(t),r=yield(yield Sw()).transaction(Ms).objectStore(Ms).get(e);if(r)return r;{const i=yield KZ(t.appConfig.senderId);if(i)return yield xw(t,i),i}})).apply(this,arguments)}function xw(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t,e){const n=Nw(t),i=(yield Sw()).transaction(Ms,"readwrite");return yield i.objectStore(Ms).put(e,n),yield i.done,e})).apply(this,arguments)}function XZ(t){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t){const e=Nw(t),r=(yield Sw()).transaction(Ms,"readwrite");yield r.objectStore(Ms).delete(e),yield r.done})).apply(this,arguments)}function Nw({appConfig:t}){return t.appId}const Rt=new br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function eX(t,e){return kw.apply(this,arguments)}function kw(){return(kw=g(function*(t,e){const n=yield Lw(t),r=fP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Fw(t.appConfig),i)).json()}catch(o){throw Rt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function tX(t,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=g(function*(t,e){const n=yield Lw(t),r=fP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Fw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Rt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function hP(t,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(t,e){const r={method:"DELETE",headers:yield Lw(t)};try{const s=yield(yield fetch(`${Fw(t.appConfig)}/${e}`,r)).json();if(s.error)throw Rt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Rt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Fw({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Lw(t){return Vw.apply(this,arguments)}function Vw(){return(Vw=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function fP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==uP&&(i.web.applicationPubKey=r),i}const nX=6048e5;function rX(t){return Uw.apply(this,arguments)}function Uw(){return(Uw=g(function*(t){const e=yield sX(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ti(e.getKey("auth")),p256dh:ti(e.getKey("p256dh"))},r=yield dP(t.firebaseDependencies);if(r){if(oX(r.subscriptionOptions,n))return Date.now()>=r.createTime+nX?iX(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield hP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return gP(t.firebaseDependencies,n)}return gP(t.firebaseDependencies,n)})).apply(this,arguments)}function pP(t){return Bw.apply(this,arguments)}function Bw(){return(Bw=g(function*(t){const e=yield dP(t.firebaseDependencies);e&&(yield hP(t.firebaseDependencies,e.token),yield XZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function iX(t,e){return $w.apply(this,arguments)}function $w(){return($w=g(function*(t,e){try{const n=yield tX(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield xw(t.firebaseDependencies,r),n}catch(n){throw yield pP(t),n}})).apply(this,arguments)}function gP(t,e){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(t,e){const r={token:yield eX(t,e),createTime:Date.now(),subscriptionOptions:e};return yield xw(t,r),r.token})).apply(this,arguments)}function sX(t,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zZ(e)})})).apply(this,arguments)}function oX(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function mP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function aX(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function uX(t,e){e.data&&(t.data=e.data)}(e,t),function cX(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function lX(t){return"object"==typeof t&&!!t&&cP in t}function yP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Gw(t){return Rt.create("missing-app-config-values",{valueName:t})}yP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hX{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function dX(t){if(!t||!t.options)throw Gw("App Configuration Object");if(!t.name)throw Gw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Gw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _P(t){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(BZ,{scope:$Z}),t.swRegistration.update().catch(()=>{})}catch(e){throw Rt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function fX(t,e){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(t,e){if(!e&&!t.swRegistration&&(yield _P(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Rt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function pX(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=uP)})).apply(this,arguments)}function Kw(){return(Kw=g(function*(t,e){if(!navigator)throw Rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rt.create("permission-blocked");return yield pX(t,e?.vapidKey),yield fX(t,e?.serviceWorkerRegistration),rX(t)})).apply(this,arguments)}function gX(t,e,n){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(t,e,n){const r=mX(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[cP],message_name:n[HZ],message_time:n[GZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mX(t){switch(t){case ga.NOTIFICATION_CLICKED:return"notification_open";case ga.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yw(){return(Yw=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ga.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(mP(n)):t.onMessageHandler.next(mP(n)));const r=n.data;lX(r)&&"1"===r[qZ]&&(yield gX(t,n.messageType,r))})).apply(this,arguments)}const wP="@firebase/messaging",_X=t=>{const e=new hX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function yX(t,e){return Yw.apply(this,arguments)}(e,n)),e},vX=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function vP(t,e){return Kw.apply(this,arguments)}(e,r)}};function EP(){return Zw.apply(this,arguments)}function Zw(){return(Zw=g(function*(){try{yield Ac()}catch{return!1}return typeof window<"u"&&Ds()&&Cv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wX(){on(new Kt("messaging",_X,"PUBLIC")),on(new Kt("messaging-internal",vX,"PRIVATE")),Ge(wP,"0.12.1"),Ge(wP,"0.12.1","esm2017")}();const Tf="analytics",DX="firebase_id",TX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DP="https://www.googletagmanager.com/gtag/js",Nt=new la("@firebase/analytics");function bP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SX(t,e){const n=document.createElement("script");n.src=`${DP}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function xX(t,e,n,r,i,s){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield bP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Nt.error(a)}t("config",i,s)})).apply(this,arguments)}function MX(t,e,n,r,i){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield bP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Nt.error(s)}})).apply(this,arguments)}function kX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(DP)&&n.src.includes(t))return n;return null}const kn=new br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),CP=new class LX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function VX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function UX(t){return nI.apply(this,arguments)}function nI(){return(nI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:VX(r)},s=TX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function BX(t){return rI.apply(this,arguments)}function rI(){return(rI=g(function*(t,e=CP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HX;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),TP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function TP(t,e,n){return iI.apply(this,arguments)}function iI(){return(iI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=CP){var s;const{appId:o,measurementId:a}=t;try{yield $X(r,e)}catch(u){if(a)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield UX(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!jX(c)){if(i.deleteThrottleMetadata(o),a)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Av(n,i.intervalMillis,30):Av(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Nt.debug(`Calling attemptFetch again in ${l} millis`),TP(t,d,r,i)}})).apply(this,arguments)}function $X(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jX(t){if(!(t instanceof zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class HX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let sI,dI;function oI(){return(oI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function SP(t){dI=t}function AP(t){sI=t}function QX(){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(){if(!Ds())return Nt.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ac()}catch(t){return Nt.warn(kn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function fI(){return(fI=g(function*(t,e,n,r,i,s,o){var a;const u=BX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Nt.error(f)),e.push(u);const c=QX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);kX(s)||SX(s,l.measurementId),dI&&(i("consent","default",dI),SP(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[DX]=d),i("config",l.measurementId,h),sI&&(i("set",sI),AP(void 0)),l.measurementId})).apply(this,arguments)}class ZX{constructor(e){this.app=e}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},xP=[];const MP={};let NP,ri,Sf="dataLayer",pI=!1;function JX(t,e,n){!function XX(){const t=[];if(bv()&&t.push("This is a browser extension environment."),Cv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});Nt.warn(n.message)}}();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw kn.create("no-api-key");Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[r])throw kn.create("already-exists",{id:r});if(!pI){!function AX(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Sf);const{wrappedGtag:s,gtagCore:o}=function NX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function RX(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield MX(t,e,n,a,u):"config"===o?yield xX(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Nt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ni,xP,MP,Sf,"gtag");ri=s,NP=o,pI=!0}return ni[r]=function YX(t,e,n,r,i,s,o){return fI.apply(this,arguments)}(t,xP,MP,e,NP,Sf,n),new ZX(t)}function tJ(){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(){if(bv()||!Cv()||!Ds())return!1;try{return yield Ac()}catch{return!1}})).apply(this,arguments)}const kP="@firebase/analytics";!function rJ(){on(new Kt(Tf,(e,{options:n})=>JX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),on(new Kt("analytics-internal",function t(e){try{const n=e.getProvider(Tf).getImmediate();return{logEvent:(r,i,s)=>function nJ(t,e,n,r){t=Wt(t),function GX(t,e,n,r,i){return oI.apply(this,arguments)}(ri,ni[t.app.options.appId],e,n,r).catch(i=>Nt.error(i))}(n,r,i,s)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ge(kP,"0.9.1"),Ge(kP,"0.9.1","esm2017")}();class iJ extends bn{constructor(e,n){super()}schedule(e,n=0){return this}}const Af={setInterval(t,e,...n){const{delegate:r}=Af;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Af;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class PP extends iJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Af.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Af.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,co(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const FP={now:()=>(FP.delegate||Date).now(),delegate:void 0};class kc{constructor(e,n=kc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}kc.now=FP.now;class LP extends kc{constructor(e,n=kc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const aJ=new class oJ extends LP{}(class sJ extends PP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),uJ=new LP(PP),xf=new Ro("7.5.0"),mI="__angularfire_symbol__analyticsIsSupportedValue",yI="__angularfire_symbol__analyticsIsSupported",_I="__angularfire_symbol__remoteConfigIsSupportedValue",vI="__angularfire_symbol__remoteConfigIsSupported",wI="__angularfire_symbol__messagingIsSupportedValue",II="__angularfire_symbol__messagingIsSupported";function DI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[yI]||(globalThis[yI]=tJ().then(t=>globalThis[mI]=t).catch(()=>globalThis[mI]=!1)),globalThis[II]||(globalThis[II]=EP().then(t=>globalThis[wI]=t).catch(()=>globalThis[wI]=!1)),globalThis[vI]||(globalThis[vI]=UZ().then(t=>globalThis[_I]=t).catch(()=>globalThis[_I]=!1));const bI=(t,e)=>{const n=e?[e]:PO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ma(){}class VP{constructor(e,n=aJ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class cJ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)),n.pipe(xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let CI=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new VP(Zone.current)),this.insideAngular=n.run(()=>new VP(Zone.current,uJ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Oe))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function lJ(t){return Rs().ngZone.runOutsideAngular(()=>t())}function Ns(t){return Rs().ngZone.run(()=>t())}function dJ(t){return Rs(),function hJ(t){return function(n){return(n=n.lift(new cJ(t.ngZone))).pipe(id(t.outsideAngular),rd(t.insideAngular))}}(Rs())(t)}const fJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ns(()=>t.apply(void 0,r))},Mi=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)))),r[s]=fJ(r[s],n));const i=lJ(()=>t.apply(this,r));if(!e){if(i instanceof Le){const s=Rs();return i.pipe(id(s.outsideAngular),rd(s.insideAngular))}return Ns(()=>i)}return i instanceof Le?i.pipe(dJ):i instanceof Promise?Ns(()=>new Promise((s,o)=>i.then(a=>Ns(()=>s(a)),a=>Ns(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ns(()=>i)};class ya{constructor(e){return e}}class TI{constructor(){return PO()}}const SI=new L("angularfire2._apps"),gJ={provide:ya,useFactory:function pJ(t){return t&&1===t.length?t[0]:new ya(Vv())},deps:[[new Ht,SI]]},mJ={provide:TI,deps:[[new Ht,SI]]};function yJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ya(r)}}let _J=(()=>{class t{constructor(n){Ge("angularfire",xf.full,"core"),Ge("angularfire",xf.full,"app"),Ge("angular",DA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(dh))},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({providers:[gJ,mJ]}),t})();const wJ=Mi(OO,!0),AI=new Map,UP={activated:!1,tokenObservers:[]},IJ={initialized:!1,enabled:!1};function kt(t){return AI.get(t)||Object.assign({},UP)}function Mf(){return IJ}class SJ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new mf,yield function AJ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new mf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const an=new br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $P(t){if(!kt(t).activated)throw an.create("use-before-activation",{appName:t.name})}function RI(t,e){return NI.apply(this,arguments)}function NI(){return(NI=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw an.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw an.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw an.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function NJ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Oc="firebase-app-check-store";let kf=null;function HP(){return kf||(kf=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(an.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Oc,{keyPath:"compositeKey"})}}catch(n){e(an.create("storage-open",{originalErrorMessage:n?.message}))}}),kf)}function kI(){return(kI=g(function*(t,e){const r=(yield HP()).transaction(Oc,"readwrite"),s=r.objectStore(Oc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(an.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Pc=new la("@firebase/app-check");function FI(t,e){return Ds()?function FJ(t,e){return function GP(t,e){return kI.apply(this,arguments)}(function zP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Pc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function WP(){return Mf().enabled}function KP(){return VI.apply(this,arguments)}function VI(){return(VI=g(function*(){const t=Mf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jJ={error:"UNKNOWN_ERROR"};function HJ(t){return Dv.encodeString(JSON.stringify(t),!1)}function Of(t){return UI.apply(this,arguments)}function UI(){return(UI=g(function*(t,e=!1){const n=t.app;$P(n);const r=kt(n);let s,i=r.token;if(i&&!_a(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(_a(u)?i=u:yield FI(n,void 0))}if(!e&&i&&_a(i))return{token:i.token};let a,o=!1;if(WP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RI(NJ(n,yield KP()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield FI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield kt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Pc.warn(u.message):Pc.error(u),s=u}return i?s?a=_a(i)?{token:i.token,internalError:s}:ZP(s):(a={token:i.token},r.token=i,yield FI(n,i)):a=ZP(s),o&&YP(n,a),a})).apply(this,arguments)}function $I(t,e){const n=kt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function QP(t){const{app:e}=t,n=kt(e);let r=n.tokenRefresher;r||(r=function GJ(t){const{app:e}=t;return new SJ(g(function*(){let r;if(r=kt(e).token?yield Of(t,!0):yield Of(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=kt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function YP(t,e){const n=kt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function _a(t){return t.expireTimeMillis-Date.now()>0}function ZP(t){return{token:HJ(jJ),error:t}}class qJ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=kt(this.app);for(const n of e)$I(this.app,n.next);return Promise.resolve()}}const sF="app-check-internal";!function see(){on(new Kt("app-check",t=>function zJ(t,e){return new qJ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(sF).initialize()})),on(new Kt(sF,t=>function WJ(t){return{getToken:e=>Of(t,e),addTokenListener:e=>function BI(t,e,n,r){const{app:i}=t,s=kt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&_a(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),QP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>QP(t))}(t,"INTERNAL",e),removeTokenListener:e=>$I(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ge("@firebase/app-check","0.6.1")}();class qI{constructor(){return bI("app-check")}}typeof window<"u"&&window;const lee=function aF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uF=new br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cF=new la("@firebase/auth");function Ff(t,...e){cF.logLevel<=he.ERROR&&cF.error(`Auth (${ha}): ${t}`,...e)}function vn(t,...e){throw WI(t,...e)}function Cr(t,...e){return WI(t,...e)}function lF(t,e,n){const r=Object.assign(Object.assign({},lee()),{[e]:n});return new br("auth","Firebase",r).create(e,{appName:t.name})}function WI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uF.create(t,...e)}function A(t,e,...n){if(!t)throw WI(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function Ri(t,e){t||Tr(e)}const dF=new Map;function ii(t){Ri(t instanceof Function,"Expected a class definition");let e=dF.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dF.set(t,e),e)}function Fc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function hF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=function aQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}()||function cQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function fee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function KI(){return"http:"===hF()||"https:"===hF()}()||bv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function QI(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mee=new Lc(3e4,6e4);function ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function vt(t,e,n,r){return YI.apply(this,arguments)}function YI(){return(YI=g(function*(t,e,n,r,i={}){return pF(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=vf(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),fF.fetch()(gF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function pF(t,e,n){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gee),e);try{const i=new yee(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Vc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Vc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Vc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lF(t,l,c);vn(t,l)}}catch(i){if(i instanceof zn)throw i;vn(t,"network-request-failed")}})).apply(this,arguments)}function si(t,e,n,r){return XI.apply(this,arguments)}function XI(){return(XI=g(function*(t,e,n,r,i={}){const s=yield vt(t,e,n,r,i);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function gF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?QI(t.config,i):`${t.config.apiScheme}://${i}`}class yee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),mee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function JI(){return(JI=g(function*(t,e){return vt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function wee(t,e){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e){return vt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nE(){return(nE=g(function*(t,e=!1){const n=Wt(t),r=yield n.getIdToken(e),i=Lf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Uc(rE(i.auth_time)),issuedAtTime:Uc(rE(i.iat)),expirationTime:Uc(rE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function rE(t){return 1e3*Number(t)}function Lf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=pf(n);return i?JSON.parse(i):(Ff("Failed to decode base64 JWT payload"),null)}catch(i){return Ff("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oi(t,e){return iE.apply(this,arguments)}function iE(){return(iE=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof zn&&Dee(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function Dee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class bee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class mF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bc(t){return sE.apply(this,arguments)}function sE(){return(sE=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield oi(t,wee(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?See(s.providerUserInfo):[],a=Tee(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function oE(){return(oE=g(function*(t){const e=Wt(t);yield Bc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Tee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function See(t){return t.map(e=>{var{providerId:n}=e,r=tT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function aE(){return(aE=g(function*(t,e){const n=yield pF(t,{},g(function*(){const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Eee(t){const e=Lf(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Aee(t,e){return aE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $c;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Ni(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield oi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Iee(t){return nE.apply(this,arguments)}(this,e)}reload(){return function Cee(t){return oE.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Bc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield oi(e,function _ee(t,e){return JI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,D=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:N,isAnonymous:V,providerData:B,stsTokenManager:et}=n;A(v&&et,e,"internal-error");const uo=$c.fromJSON(this.name,et);A("string"==typeof v,e,"internal-error"),Ni(d,e.name),Ni(h,e.name),A("boolean"==typeof N,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),Ni(f,e.name),Ni(p,e.name),Ni(m,e.name),Ni(y,e.name),Ni(I,e.name),Ni(D,e.name);const G0=new ks({uid:v,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:uo,createdAt:I,lastLoginAt:D});return B&&Array.isArray(B)&&(G0.providerData=B.map(eue=>Object.assign({},eue))),y&&(G0._redirectEventId=y),G0}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new $c;i.updateFromServerResponse(n);const s=new ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bc(s),s})()}}const yF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ks._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new wa(ii(yF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ii(yF);const o=Vf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ks._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new wa(s,e,r)):new wa(s,e,r)})()}}function _F(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DF(e))return"Blackberry";if(bF(e))return"Webos";if(uE(e))return"Safari";if((e.includes("chrome/")||wF(e))&&!e.includes("edge/"))return"Chrome";if(EF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function vF(t=_t()){return/firefox\//i.test(t)}function uE(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wF(t=_t()){return/crios\//i.test(t)}function IF(t=_t()){return/iemobile/i.test(t)}function EF(t=_t()){return/android/i.test(t)}function DF(t=_t()){return/blackberry/i.test(t)}function bF(t=_t()){return/webos/i.test(t)}function Uf(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CF(t=_t()){return Uf(t)||EF(t)||bF(t)||DF(t)||/windows phone/i.test(t)||IF(t)}function TF(t,e=[]){let n;switch(t){case"Browser":n=_F(_t());break;case"Worker":n=`${_F(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}class Nee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class kee{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SF(this),this.idTokenSubscription=new SF(this),this.beforeStateQueue=new Nee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Bc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function pee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Wt(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ii(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ii(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield wa.create(n,[ii(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function wn(t){return Wt(t)}class SF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function gQ(t,e){const n=new mQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function AF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class MF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}function lE(){return(lE=g(function*(t,e){return vt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function hE(){return(hE=g(function*(t,e){return si(t,"POST","/v1/accounts:signInWithPassword",ft(t,e))})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e){return si(t,"POST","/v1/accounts:signInWithEmailLink",ft(t,e))})).apply(this,arguments)}function vE(){return(vE=g(function*(t,e){return si(t,"POST","/v1/accounts:signInWithEmailLink",ft(t,e))})).apply(this,arguments)}class jc extends MF{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function Vee(t,e){return hE.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function Hee(t,e){return _E.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:vn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function NF(t,e){return lE.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Gee(t,e){return vE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:vn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ai(t,e){return wE.apply(this,arguments)}function wE(){return(wE=g(function*(t,e){return si(t,"POST","/v1/accounts:signInWithIdp",ft(t,e))})).apply(this,arguments)}class qc{constructor(e){var n,r,i,s,o,a;const u=xc(Mc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Zee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Xee(t){const e=xc(Mc(t)).link,n=e?xc(Mc(e)).deep_link_id:null,r=xc(Mc(t)).deep_link_id;return(r?xc(Mc(r)).link:null)||r||n||e||t}(e);try{return new qc(n)}catch{return null}}}let kF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return jc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=qc.parseLink(r);return A(i,"argument-error"),jc._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jee extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function OF(t,e){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(t,e){return si(t,"POST","/v1/accounts:signUp",ft(t,e))})).apply(this,arguments)}class Wn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ks._fromIdTokenResponse(e,r,i),o=PF(r);return new Wn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=PF(r);return new Wn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function PF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class jf extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jf(e,n,r,i)}}function FF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?jf._fromErrorAndOperation(t,s,e,r):s})}function xE(t,e){return ME.apply(this,arguments)}function ME(){return(ME=g(function*(t,e,n=!1){const r=yield oi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Wn._forOperation(t,"link",r)})).apply(this,arguments)}function NE(){return(NE=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield oi(t,FF(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Lf(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Wn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&vn(r,"user-mismatch"),s}})).apply(this,arguments)}function UF(t,e){return kE.apply(this,arguments)}function kE(){return(kE=g(function*(t,e,n=!1){const r="signIn",i=yield FF(t,r,e),s=yield Wn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function PE(){return(PE=g(function*(t,e){return UF(wn(t),e)})).apply(this,arguments)}function ote(t,e,n){return WE.apply(this,arguments)}function WE(){return(WE=g(function*(t,e,n){const r=wn(t),i=yield OF(r,{returnSecureToken:!0,email:e,password:n}),s=yield Wn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function ate(t,e,n){return function OE(t,e){return PE.apply(this,arguments)}(Wt(t),kF.credential(e,n))}function yte(t){return Wt(t).signOut()}const qf="__sak";class $F{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bte=(()=>{class t extends $F{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ite(){const t=_t();return uE(t)||Uf(t)}()&&function Ree(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=CF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Mee(){return function lQ(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),jF=(()=>{class t extends $F{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Tte=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Cte(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function uD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ste{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=uD("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pt(){return window}function cD(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function lD(){return(lD=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const HF="firebaseLocalStorageDb",zf="firebaseLocalStorage",GF="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wf(t,e){return t.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function dD(){const t=indexedDB.open(HF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zf,{keyPath:GF})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(zf)?e(r):(r.close(),yield function kte(){const t=indexedDB.deleteDatabase(HF);return new Wc(t).toPromise()}(),e(yield dD()))}))})}function qF(t,e,n){return hD.apply(this,arguments)}function hD(){return(hD=g(function*(t,e,n){const r=Wf(t,!0).put({[GF]:e,value:n});return new Wc(r).toPromise()})).apply(this,arguments)}function fD(){return(fD=g(function*(t,e){const n=Wf(t,!1).get(e),r=yield new Wc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zF(t,e){const n=Wf(t,!0).delete(e);return new Wc(n).toPromise()}const Lte=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield dD()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return cD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Tte._getInstance(function Rte(){return cD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function xte(){return lD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ste(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Mte(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield dD();return yield qF(n,qf,"1"),yield zF(n,qf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>qF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Ote(t,e){return fD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>zF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Wf(o,!1).getAll();return new Wc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function KF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Ps(t,e){return e?ii(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}KF("rcb"),new Lc(3e4,6e4);class DD extends MF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ai(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ene(t){return UF(t.auth,new DD(t),t.bypassAuthState)}function tne(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function VF(t,e){return NE.apply(this,arguments)}(n,new DD(t),t.bypassAuthState)}function nne(t){return bD.apply(this,arguments)}function bD(){return(bD=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),xE(n,new DD(t),t.bypassAuthState)})).apply(this,arguments)}class rne{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ene;case"linkViaPopup":case"linkViaRedirect":return nne;case"reauthViaPopup":case"reauthViaRedirect":return tne;default:vn(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Lc(2e3,1e4);const Kc=new Map;class sne extends rne{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Kc.get(n.auth._key());if(!r){try{const s=(yield function one(t,e){return xD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Kc.set(n.auth._key(),r)}return n.bypassAuthState||Kc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function xD(){return(xD=g(function*(t,e){const n=ZF(e),r=YF(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function ane(t,e){Kc.set(t._key(),e)}function YF(t){return ii(t._redirectPersistence)}function ZF(t){return Vf("pendingRedirect",t.config.apiKey,t.name)}function XF(t,e){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(t,e,n=!1){const r=wn(t),i=Ps(r,e),o=yield new sne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class hne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tL(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eL(e))}saveEventToCache(e){this.cachedEventUids.add(eL(e)),this.lastProcessedEventTime=Date.now()}}function eL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tL({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function pne(t){return VD.apply(this,arguments)}function VD(){return(VD=g(function*(t,e={}){return vt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const gne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mne=/^https?/;function UD(){return(UD=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield pne(t);for(const n of e)try{if(_ne(n))return}catch{}vn(t,"unauthorized-domain")})).apply(this,arguments)}function _ne(t){const e=Fc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!mne.test(n))return!1;if(gne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vne=new Lc(3e4,6e4);function nL(){const t=pt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Qf=null;function Ine(t){return Qf=Qf||function wne(t){return new Promise((e,n)=>{var r,i,s;function o(){nL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nL(),n(Cr(t,"network-request-failed"))},timeout:vne.get()})}if(null!==(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=pt().gapi)||void 0===s||!s.load){const a=KF("iframefcb");return pt()[a]=()=>{gapi.load?o():n(Cr(t,"network-request-failed"))},function WF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function $te(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Qf=null,e})}(t),Qf}const Ene=new Lc(5e3,15e3),Cne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sne(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?QI(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:ha},i=Tne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vf(r).slice(1)}`}function BD(){return BD=g(function*(t){const e=yield Ine(t),n=pt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Sne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cne,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Cr(t,"network-request-failed"),u=pt().setTimeout(()=>{o(a)},Ene.get());function c(){pt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),BD.apply(this,arguments)}const xne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iL(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(e instanceof ki){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function pQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof Jee){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Vne({config:t}){return t.emulator?QI(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${vf(a).slice(1)}`}const $D="webStorageSupport",Bne=class Une{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jF,this._completeRedirectFn=XF,this._overrideRedirectResult=ane}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ri(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=iL(e,n,r,Fc(),i);return function One(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xne),{width:r.toString(),height:i.toString(),top:s,left:o}),c=_t().toLowerCase();n&&(a=wF(c)?"_blank":n),vF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function xee(t=_t()){var e;return Uf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Pne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new rL(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new rL(d)}(e,a,uD())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Ate(t){pt().location.href=t}(iL(e,n,r,Fc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Ane(t){return BD.apply(this,arguments)}(e),i=new hne(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($D,{type:$D},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[$D];void 0!==o&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function yne(t){return UD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CF()||uE()||Uf()}};var oL="@firebase/auth";class $ne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qne=bO("authIdTokenMaxAge")||300;let uL=null;const zne=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>qne)return;const s=r?.token;uL!==s&&(uL=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Wne(t=Vv()){const e=da(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function dee(t,e){const n=da(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(_f(n.getOptions(),e??{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Bne,persistence:[Lte,bte,jF]}),r=bO("authTokenSyncURL");if(r){const s=zne(r);(function mte(t,e,n){Wt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function gte(t,e,n,r){Wt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=DO("auth");return i&&function Oee(t,e,n){const r=wn(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=AF(e),{host:o,port:a}=function Pee(t){const e=AF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:xF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Fee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Hne(t){on(new Kt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TF(t)},l=new kee(a,u,c);return function hee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),on(new Kt("auth-internal",e=>{const n=wn(e.getProvider("auth").getImmediate());return new $ne(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(oL,"0.21.1",function jne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ge(oL,"0.21.1","esm2017")}("Browser");class Yf{constructor(e){return e}}class lL{constructor(){return bI("auth")}}const jD=new L("angularfire2.auth-instances");function Qne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Yf(r)}}const Yne={provide:lL,deps:[[new Ht,jD]]},Zne={provide:Yf,useFactory:function Kne(t,e){const n=DI("auth",t,e);return n&&new Yf(n)},deps:[[new Ht,jD],ya]};let Xne=(()=>{class t{constructor(){Ge("angularfire",xf.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({providers:[Zne,Yne]}),t})();const ere=Mi(ote,!0),tre=Mi(Wne,!0),nre=Mi(ate,!0),rre=Mi(yte,!0);var F,ire=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ui={},HD=HD||{},Q=ire||self;function Zf(){}function Xf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GD="closure_uid_"+(1e9*Math.random()>>>0),ore=0;function are(t,e,n){return t.call.apply(t.bind,arguments)}function ure(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?are:ure).apply(null,arguments)}function Jf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Oi(){this.s=this.s,this.o=this.o}Oi.prototype.s=!1,Oi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function sre(t){Object.prototype.hasOwnProperty.call(t,GD)&&t[GD]||(t[GD]=++ore)}(this)},Oi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var lre=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",Zf,e),Q.removeEventListener("test",Zf,e)}catch{}return t}();function ep(t){return/^[\s\xa0]*$/.test(t)}var fL=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zD(t,e){return t<e?-1:t>e?1:0}function tp(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=tp().indexOf(t)}function WD(t){return WD[" "](t),t}WD[" "]=Zf;var np,t,hre=Sr("Opera"),Ia=Sr("Trident")||Sr("MSIE"),pL=Sr("Edge"),KD=pL||Ia,gL=Sr("Gecko")&&!(-1!=tp().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),fre=-1!=tp().toLowerCase().indexOf("webkit")&&!Sr("Edge");function mL(){var t=Q.document;return t?t.documentMode:void 0}e:{var QD="",YD=(t=tp(),gL?/rv:([^\);]+)(\)|;)/.exec(t):pL?/Edge\/([\d\.]+)/.exec(t):Ia?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):fre?/WebKit\/(\S+)/.exec(t):hre?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(YD&&(QD=YD?YD[1]:""),Ia){var ZD=mL();if(null!=ZD&&ZD>parseFloat(QD)){np=String(ZD);break e}}np=QD}var pre={};var mre=Q.document&&Ia&&(mL()||parseInt(np,10))||void 0;function Yc(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gL){e:{try{WD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:yre[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yc.X.h.call(this)}}Ot(Yc,Yt);var yre={2:"touch",3:"pen",4:"mouse"};Yc.prototype.h=function(){Yc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zc="closure_listenable_"+(1e6*Math.random()|0),_re=0;function vre(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++_re,this.ba=this.ea=!1}function rp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function JD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _L(t){const e={};for(const n in t)e[n]=t[n];return e}const vL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<vL.length;s++)n=vL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ip(t){this.src=t,this.g={},this.h=0}function eb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=dL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function tb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}ip.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=tb(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new vre(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var nb="closure_lm_"+(1e6*Math.random()|0),rb={};function IL(t,e,n,r,i){if(r&&r.once)return DL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IL(t,e[s],n,r,i);return null}return n=ab(n),t&&t[Zc]?t.N(e,n,Qc(r)?!!r.capture:!!r,i):EL(t,e,n,!1,r,i)}function EL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Qc(i)?!!i.capture:!!i,a=sb(t);if(a||(t[nb]=a=new ip(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function wre(){const e=Ire;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lre||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function DL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)DL(t,e[s],n,r,i);return null}return n=ab(n),t&&t[Zc]?t.O(e,n,Qc(r)?!!r.capture:!!r,i):EL(t,e,n,!0,r,i)}function bL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bL(t,e[s],n,r,i);else r=Qc(r)?!!r.capture:!!r,n=ab(n),t&&t[Zc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=tb(s=t.g[e],n,r,i))&&(rp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=sb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tb(e,n,r,i)),(n=-1<t?e[t]:null)&&ib(n))}function ib(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Zc])eb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sb(e))?(eb(n,t),0==n.h&&(n.src=null,e[nb]=null)):rp(t)}}}function CL(t){return t in rb?rb[t]:rb[t]="on"+t}function Ire(t,e){if(t.ba)t=!0;else{e=new Yc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&ib(t),t=n.call(r,e)}return t}function sb(t){return(t=t[nb])instanceof ip?t:null}var ob="__closure_events_fn_"+(1e9*Math.random()>>>0);function ab(t){return"function"==typeof t?t:(t[ob]||(t[ob]=function(e){return t.handleEvent(e)}),t[ob])}function wt(){Oi.call(this),this.i=new ip(this),this.P=this,this.I=null}function Pt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var i=e;wL(e=new Yt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sp(o,r,!0,e)&&i}if(i=sp(o=e.g=t,r,!0,e)&&i,i=sp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=sp(o=e.g=n[s],r,!1,e)&&i}function sp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&eb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ot(wt,Oi),wt.prototype[Zc]=!0,wt.prototype.removeEventListener=function(t,e,n,r){bL(this,t,e,n,r)},wt.prototype.M=function(){if(wt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rp(n[r]);delete t.g[e],t.h--}}this.I=null},wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ub=Q.JSON.stringify;function Ere(){var t=AL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cb,TL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new bre,t=>t.reset());class bre{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Cre(t){Q.setTimeout(()=>{throw t},0)}function SL(t,e){cb||function Tre(){var t=Q.Promise.resolve(void 0);cb=function(){t.then(Sre)}}(),lb||(cb(),lb=!0),AL.add(t,e)}var lb=!1,AL=new class Dre{constructor(){this.h=this.g=null}add(e,n){const r=TL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Sre(){for(var t;t=Ere();){try{t.h.call(t.g)}catch(n){Cre(n)}var e=TL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lb=!1}function op(t,e){wt.call(this),this.h=t||1,this.g=e||Q,this.j=Qt(this.lb,this),this.l=Date.now()}function db(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function hb(t,e,n){if("function"==typeof t)n&&(t=Qt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function xL(t){t.g=hb(()=>{t.g=null,t.i&&(t.i=!1,xL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ot(op,wt),(F=op.prototype).ca=!1,F.R=null,F.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pt(this,"tick"),this.ca&&(db(this),this.start()))}},F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){op.X.M.call(this),db(this),delete this.g};class Are extends Oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xL(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xc(t){Oi.call(this),this.h=t,this.g={}}Ot(Xc,Oi);var ML=[];function RL(t,e,n,r){Array.isArray(n)||(n&&(ML[0]=n.toString()),n=ML);for(var i=0;i<n.length;i++){var s=IL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function NL(t){JD(t.g,function(e,n){this.g.hasOwnProperty(n)&&ib(e)},t),t.g={}}function ap(){this.g=!0}function Ea(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ub(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Xc.prototype.M=function(){Xc.X.M.call(this),NL(this)},Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ap.prototype.Aa=function(){this.g=!1},ap.prototype.info=function(){};var Fs={},kL=null;function up(){return kL=kL||new wt}function OL(t){Yt.call(this,Fs.Pa,t)}function Jc(t){const e=up();Pt(e,new OL(e))}function PL(t,e){Yt.call(this,Fs.STAT_EVENT,t),this.stat=e}function un(t){const e=up();Pt(e,new PL(e,t))}function FL(t,e){Yt.call(this,Fs.Qa,t),this.size=e}function el(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Fs.Pa="serverreachability",Ot(OL,Yt),Fs.STAT_EVENT="statevent",Ot(PL,Yt),Fs.Qa="timingevent",Ot(FL,Yt);var cp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},LL={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fb(){}function UL(){}fb.prototype.h=null;var mb,tl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pb(){Yt.call(this,"d")}function gb(){Yt.call(this,"c")}function lp(){}function nl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Xc(this),this.O=kre,this.T=new op(t=KD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new BL}function BL(){this.i=null,this.g="",this.h=!1}Ot(pb,Yt),Ot(gb,Yt),Ot(lp,fb),lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},mb=new lp;var kre=45e3,yb={},dp={};function _b(t,e,n){t.K=1,t.v=gp(ci(e)),t.s=n,t.P=!0,$L(t,null)}function $L(t,e){t.F=Date.now(),rl(t),t.A=ci(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),ZL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new BL,t.g=IV(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Are(Qt(t.La,t,t.g),t.N)),RL(t.S,t.g,"readystatechange",t.ib),e=t.H?_L(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Jc(),function xre(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function jL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function HL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Ore(t,n),i==dp){4==e&&(t.o=4,un(14),r=!1),Ea(t.j,t.m,null,"[Incomplete Response]");break}if(i==yb){t.o=4,un(15),Ea(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ea(t.j,t.m,i,null),vb(t,i)}jL(t)&&i!=dp&&i!=yb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sb(e),e.K=!0,un(11))):(Ea(t.j,t.m,n,"[Invalid Chunked Response]"),Ls(t),il(t))}function Ore(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?dp:(n=Number(e.substring(n,r)),isNaN(n)?yb:(r+=1)+n>e.length?dp:(e=e.substr(r,n),t.C=r+n,e))}function rl(t){t.V=Date.now()+t.O,GL(t,t.O)}function GL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=el(Qt(t.gb,t),e)}function hp(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function il(t){0==t.l.G||t.I||yV(t.l,t)}function Ls(t){hp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,db(t.T),NL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function vb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||wb(n.h,t)))if(!t.J&&wb(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Ip(n),vp(n)}Tb(n),un(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=el(Qt(n.cb,n),6e3));if(1>=eV(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Us(n,11)}else if((t.J||n.g==t)&&Ip(n),!ep(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ib(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Pe(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=wV(r,r.H?r.ka:null,r.V),o.J){tV(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(hp(a),rl(a)),r.g=o}else gV(r);0<n.i.length&&wp(n)}else"stop"!=c[0]&&"close"!=c[0]||Us(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Us(n,7):Cb(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Jc()}catch{}}function qL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Fre(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Pre(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Xf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=nl.prototype).setTimeout=function(t){this.O=t},F.ib=function(t){t=t.target;const e=this.L;e&&3==li(t)?e.l():this.La(t)},F.La=function(t){try{if(t==this.g)e:{const l=li(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||KD||this.g&&(this.h.h||this.g.fa()||cV(this.g)))){this.I||4!=l||7==e||Jc(),hp(this);var n=this.g.aa();this.Y=n;t:if(jL(this)){var r=cV(this.g);t="";var i=r.length,s=4==li(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),il(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Mre(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ep(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,un(12),Ls(this),il(this);break e}Ea(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vb(this,n)}this.P?(HL(this,l,o),KD&&this.i&&3==l&&(RL(this.S,this.T,"tick",this.hb),this.T.start())):(Ea(this.j,this.m,o,null),vb(this,o)),4==l&&Ls(this),this.i&&!this.I&&(4==l?yV(this.l,this):(this.i=!1,rl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Ls(this),il(this)}}}catch{}},F.hb=function(){if(this.g){var t=li(this.g),e=this.g.fa();this.C<e.length&&(hp(this),HL(this,t,e),this.i&&4!=t&&rl(this))}},F.cancel=function(){this.I=!0,Ls(this)},F.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Rre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jc(),un(17)),Ls(this),this.o=2,il(this)):GL(this,this.V-t)};var zL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vs){this.h=void 0!==e?e:t.h,fp(this,t.j),this.s=t.s,this.g=t.g,pp(this,t.m),this.l=t.l,e=t.i;var n=new al;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),WL(this,n),this.o=t.o}else t&&(n=String(t).match(zL))?(this.h=!!e,fp(this,n[1]||"",!0),this.s=sl(n[2]||""),this.g=sl(n[3]||"",!0),pp(this,n[4]),this.l=sl(n[5]||"",!0),WL(this,n[6]||"",!0),this.o=sl(n[7]||"")):(this.h=!!e,this.i=new al(null,this.h))}function ci(t){return new Vs(t)}function fp(t,e,n){t.j=n?sl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function WL(t,e,n){e instanceof al?(t.i=e,function Hre(t,e){e&&!t.j&&(Pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(QL(this,r),ZL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ol(e,$re)),t.i=new al(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function gp(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ol(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ol(e,KL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ol(e,KL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ol(n,"/"==n.charAt(0)?Bre:Ure,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ol(n,jre)),t.join("")};var KL=/[#\/\?@]/g,Ure=/[#\?:]/g,Bre=/[#\?]/g,$re=/[#\?@]/g,jre=/#/g;function al(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Lre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function QL(t,e){Pi(t),e=Da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function YL(t,e){return Pi(t),e=Da(t,e),t.g.has(e)}function ZL(t,e,n){QL(t,e),0<n.length&&(t.i=null,t.g.set(Da(t,e),qD(n)),t.h+=n.length)}function Da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function XL(t){this.l=t||qre,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=al.prototype).add=function(t,e){Pi(this),this.i=null,t=Da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.oa=function(){Pi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.W=function(t){Pi(this);let e=[];if("string"==typeof t)YL(this,t)&&(e=e.concat(this.g.get(Da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Pi(this),this.i=null,YL(this,t=Da(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var qre=10;function JL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function eV(t){return t.h?1:t.g?t.g.size:0}function wb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ib(t,e){t.g?t.g.add(e):t.h=e}function tV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function nV(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return qD(t.i)}function Eb(){}function zre(){this.g=new Eb}function Wre(t,e,n){const r=n||"";try{qL(t,function(i,s){let o=i;Qc(i)&&(o=ub(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ul(t){this.l=t.ac||null,this.j=t.jb||!1}function yp(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Db,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}XL.prototype.cancel=function(){if(this.i=nV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Eb.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},Eb.prototype.parse=function(t){return Q.JSON.parse(t,void 0)},Ot(ul,fb),ul.prototype.g=function(){return new yp(this.l,this.j)},ul.prototype.i=function(t){return function(){return t}}({}),Ot(yp,wt);var Db=0;function rV(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ll(t)}function ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=yp.prototype).open=function(t,e){if(this.readyState!=Db)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ll(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cl(this)),this.readyState=Db},F.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rV(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},F.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):ll(this),3==this.readyState&&rV(this)}},F.Va=function(t){this.g&&(this.response=this.responseText=t,cl(this))},F.Ua=function(t){this.g&&(this.response=t,cl(this))},F.ga=function(){this.g&&cl(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Qre=Q.JSON.parse;function qe(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=iV,this.K=this.L=!1}Ot(qe,wt);var iV="",Yre=/^https?$/i,Zre=["POST","PUT"];function sV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oV(t),_p(t)}function oV(t){t.D||(t.D=!0,Pt(t,"complete"),Pt(t,"error"))}function aV(t){if(t.h&&typeof HD<"u"&&(!t.C[1]||4!=li(t)||2!=t.aa()))if(t.v&&4==li(t))hb(t.Ha,0,t);else if(Pt(t,"readystatechange"),4==li(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(zL)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!Yre.test(i?i.toLowerCase():"")}n=r}if(n)Pt(t,"complete"),Pt(t,"success");else{t.m=6;try{var o=2<li(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",oV(t)}}finally{_p(t)}}}function _p(t,e){if(t.g){uV(t);const n=t.g,r=t.C[0]?Zf:null;t.g=null,t.C=null,e||Pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function uV(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function li(t){return t.g?t.g.readyState:0}function cV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case iV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lV(t){let e="";return JD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function bb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pe(t,e,n))}function dl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dV(t){this.Ca=0,this.i=[],this.j=new ap,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=dl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=dl("baseRetryDelayMs",5e3,t),this.bb=dl("retryDelaySeedMs",1e4,t),this.$a=dl("forwardChannelMaxRetries",2,t),this.ta=dl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new XL(t&&t.concurrentRequestLimit),this.Fa=new zre,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cb(t){if(hV(t),3==t.G){var e=t.U++,n=ci(t.F);Pe(n,"SID",t.I),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),hl(t,n),(e=new nl(t,t.j,e,void 0)).K=2,e.v=gp(ci(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=IV(e.l,null),e.g.da(e.v)),e.F=Date.now(),rl(e)}vV(t)}function vp(t){t.g&&(Sb(t),t.g.cancel(),t.g=null)}function hV(t){vp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Ip(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function wp(t){JL(t.h)||t.m||(t.m=!0,SL(t.Ja,t),t.C=0)}function fV(t,e){var n;n=e?e.m:t.U++;const r=ci(t.F);Pe(r,"SID",t.I),Pe(r,"RID",n),Pe(r,"AID",t.T),hl(t,r),t.o&&t.s&&bb(r,t.o,t.s),n=new nl(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=pV(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Ib(t.h,n),_b(n,r,e)}function hl(t,e){t.ia&&JD(t.ia,function(n,r){Pe(e,r,n)}),t.l&&qL({},function(n,r){Pe(e,r,n)})}function pV(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Qt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Wre(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function gV(t){t.g||t.u||(t.Z=1,SL(t.Ia,t),t.A=0)}function Tb(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=el(Qt(t.Ia,t),_V(t,t.A)),t.A++,0))}function Sb(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function mV(t){t.g=new nl(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ci(t.sa);Pe(e,"RID","rpc"),Pe(e,"SID",t.I),Pe(e,"CI",t.L?"0":"1"),Pe(e,"AID",t.T),Pe(e,"TYPE","xmlhttp"),hl(t,e),t.o&&t.s&&bb(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=gp(ci(e)),n.s=null,n.P=!0,$L(n,t)}function Ip(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function yV(t,e){var n=null;if(t.g==e){Ip(t),Sb(t),t.g=null;var r=2}else{if(!wb(t.h,e))return;n=e.D,tV(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Pt(r=up(),new FL(r,n)),wp(t)}else gV(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function Jre(t,e){return!(eV(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=el(Qt(t.Ja,t,e),_V(t,t.C)),t.C++,0)))}(t,e)||2==r&&Tb(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}function _V(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Us(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Qt(t.kb,t);n||(n=new Vs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||fp(n,"https"),gp(n)),function Kre(t,e){const n=new ap;if(Q.Image){const r=new Image;r.onload=Jf(mp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jf(mp,n,r,"TestLoadImage: error",!1,e),r.onabort=Jf(mp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jf(mp,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else un(2);t.G=0,t.l&&t.l.va(e),vV(t),hV(t)}function vV(t){if(t.G=0,t.la=[],t.l){const e=nV(t.h);(0!=e.length||0!=t.i.length)&&(hL(t.la,e),hL(t.la,t.i),t.h.i.length=0,qD(t.i),t.i.length=0),t.l.ua()}}function wV(t,e,n){var r=n instanceof Vs?ci(n):new Vs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),pp(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vs(null,void 0);r&&fp(s,r),e&&(s.g=e),i&&pp(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Pe(r,n,e),Pe(r,"VER",t.ma),hl(t,r),r}function IV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qe(n&&t.Da&&!t.ra?new ul({jb:!0}):t.ra)).Ka(t.H),e}function EV(){}function Ep(){if(Ia&&!(10<=Number(mre)))throw Error("Environmental error: no available transport.")}function On(t,e){wt.call(this),this.g=new dV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ep(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ep(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ba(this)}function DV(t){pb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function bV(){gb.call(this),this.status=1}function ba(t){this.g=t}(F=qe.prototype).Ka=function(t){this.L=t},F.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mb.g(),this.C=function VL(t){return t.h||(t.h=t.i())}(this.u?this.u:mb),this.g.onreadystatechange=Qt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void sV(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=dL(Zre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uV(this),0<this.B&&((this.K=function Xre(t){return Ia&&function gre(){return function dre(t){var e=pre;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=fL(String(np)).split("."),n=fL("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=zD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||zD(0==i[2].length,0==s[2].length)||zD(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.qa,this)):this.A=hb(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){sV(this,s)}},F.qa=function(){typeof HD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pt(this,"complete"),Pt(this,"abort"),_p(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_p(this,!0)),qe.X.M.call(this)},F.Ha=function(){this.s||(this.F||this.v||this.l?aV(this):this.fb())},F.fb=function(){aV(this)},F.aa=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qre(e)}},F.Ea=function(){return this.m},F.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=dV.prototype).ma=8,F.G=1,F.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new nl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=_L(s),wL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pV(this,i,e),Pe(n=ci(this.F),"RID",t),Pe(n,"CVER",22),this.D&&Pe(n,"X-HTTP-Session-Id",this.D),hl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(lV(s)))+"&"+e:this.o&&bb(n,this.o,s)),Ib(this.h,i),this.Ya&&Pe(n,"TYPE","init"),this.O?(Pe(n,"$req",e),Pe(n,"SID","null"),i.Z=!0,_b(i,n,null)):_b(i,n,e),this.G=2}}else 3==this.G&&(t?fV(this,t):0==this.i.length||JL(this.h)||fV(this))},F.Ia=function(){if(this.u=null,mV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=el(Qt(this.eb,this),t)}},F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,un(10),vp(this),mV(this))},F.cb=function(){null!=this.v&&(this.v=null,vp(this),Tb(this),un(19))},F.kb=function(t){t?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))},(F=EV.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Ra=function(){},Ep.prototype.g=function(t,e){return new On(t,e)},Ot(On,wt),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=wV(t,null,t.V),wp(t)},On.prototype.close=function(){Cb(this.g)},On.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ub(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&wp(e)},On.prototype.M=function(){this.g.l=null,delete this.j,Cb(this.g),delete this.g,On.X.M.call(this)},Ot(DV,pb),Ot(bV,gb),Ot(ba,EV),ba.prototype.xa=function(){Pt(this.g,"a")},ba.prototype.wa=function(t){Pt(this.g,new DV(t))},ba.prototype.va=function(t){Pt(this.g,new bV)},ba.prototype.ua=function(){Pt(this.g,"b")},Ep.prototype.createWebChannel=Ep.prototype.g,On.prototype.send=On.prototype.u,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,cp.NO_ERROR=0,cp.TIMEOUT=8,cp.HTTP_ERROR=6,LL.COMPLETE="complete",UL.EventType=tl,tl.OPEN="a",tl.CLOSE="b",tl.ERROR="c",tl.MESSAGE="d",wt.prototype.listen=wt.prototype.N,qe.prototype.listenOnce=qe.prototype.O,qe.prototype.getLastError=qe.prototype.Oa,qe.prototype.getLastErrorCode=qe.prototype.Ea,qe.prototype.getStatus=qe.prototype.aa,qe.prototype.getResponseJson=qe.prototype.Sa,qe.prototype.getResponseText=qe.prototype.fa,qe.prototype.send=qe.prototype.da,qe.prototype.setWithCredentials=qe.prototype.Ka;var eie=ui.createWebChannelTransport=function(){return new Ep},tie=ui.getStatEventTarget=function(){return up()},Ab=ui.ErrorCode=cp,nie=ui.EventType=LL,rie=ui.Event=Fs,CV=ui.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},iie=ui.FetchXmlHttpFactory=ul,Dp=ui.WebChannel=UL,sie=ui.XhrIo=qe;const TV="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Ca="9.16.0";const Fi=new la("@firebase/firestore");function xb(){return Fi.logLevel}function T(t,...e){if(Fi.logLevel<=he.DEBUG){const n=e.map(Mb);Fi.debug(`Firestore (${Ca}): ${t}`,...n)}}function Ye(t,...e){if(Fi.logLevel<=he.ERROR){const n=e.map(Mb);Fi.error(`Firestore (${Ca}): ${t}`,...n)}}function Ta(t,...e){if(Fi.logLevel<=he.WARN){const n=e.map(Mb);Fi.warn(`Firestore (${Ca}): ${t}`,...n)}}function Mb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function P(t,e){t||O()}function M(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class SV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class aie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uie{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new SV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new It(e)}}class cie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=It.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(P(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class lie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new cie(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class die{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.A=n.token,new AV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class xV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function Sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Be(0,0))}static max(){return new U(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===fl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends fl{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const fie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends fl{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return fie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function NV(t){return new Pn(t.readTime,t.key,-1)}class Pn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pn(U.min(),x.empty(),-1)}static max(){return new Pn(U.max(),x.empty(),-1)}}function Nb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const kV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Li(t){return kb.apply(this,arguments)}function kb(){return kb=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==kV)throw t;T("LocalStore","Unexpectedly lost primary lease")}),kb.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Vi(t){return"IndexedDbTransactionError"===t.name}let Fn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Iie{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class js{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}function PV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ml(t){return null==t}function yl(t){return 0===t&&1/t==-1/0}class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const Eie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(P(!!t),"string"==typeof t){let e=0;const n=Eie.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gs(t){return"string"==typeof t?mt.fromBase64String(t):mt.fromUint8Array(t)}function Pb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function VV(t){const e=t.mapValue.fields.__previous_value__;return Pb(e)?VV(e):e}function _l(t){const e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}const Bi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pb(t)?4:jV(t)?9007199254740991:10:O()}function Ar(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _l(t).isEqual(_l(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ui(r.timestampValue),o=Ui(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Gs(t.bytesValue).isEqual(Gs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?yl(s)===yl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(PV(s)!==PV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ar(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function vl(t,e){return void 0!==(t.values||[]).find(n=>Ar(n,e))}function $i(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return UV(t.timestampValue,e.timestampValue);case 4:return UV(_l(t),_l(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Gs(i),a=Gs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(ze(i.latitude),ze(s.latitude));return 0!==o?o:Y(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=$i(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Bi_mapValue&&s===Bi_mapValue)return 0;if(i===Bi_mapValue)return 1;if(s===Bi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=$i(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function UV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=Ui(t),r=Ui(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Aa(t){return Fb(t)}function Fb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ui(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gs(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Fb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Fb(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function Lb(t){return!!t&&"integerValue"in t}function wl(t){return!!t&&"arrayValue"in t}function BV(t){return!!t&&"nullValue"in t}function $V(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ap(t){return!!t&&"mapValue"in t}function Il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ji{constructor(e,n){this.position=e,this.inclusive=n}}function qV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):$i(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}class WV{}class ue extends WV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Cie(e,n,r):"array-contains"===n?new Aie(e,r):"in"===n?new JV(e,r):"not-in"===n?new xie(e,r):"array-contains-any"===n?new Mie(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Tie(e,r):new Sie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($i(n,this.value)):null!==n&&qs(this.value)===qs(n)&&this.matchesComparison($i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends WV{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ee(e,n)}matches(e){return xa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function xa(t){return"and"===t.op}function Ub(t){return function KV(t){for(const e of t.filters)if(e instanceof Ee)return!1;return!0}(t)&&xa(t)}function Bb(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(Ub(t))return t.filters.map(e=>Bb(e)).join(",");{const e=t.filters.map(n=>Bb(n)).join(",");return`${t.op}(${e})`}}function QV(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&Ar(n.value,r.value)):t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&QV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function ZV(t){return t instanceof ue?`${(e=t).field.canonicalString()} ${e.op} ${Aa(e.value)}`:t instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(ZV).join(" ,")+"}"}(t):"Filter";var e}class Cie extends ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tie extends ue{constructor(e,n){super(e,"in",n),this.keys=XV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sie extends ue{constructor(e,n){super(e,"not-in",n),this.keys=XV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Aie extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wl(n)&&vl(n.arrayValue,this.value)}}class JV extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vl(this.value.arrayValue,n)}}class xie extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vl(this.value.arrayValue,n)}}class Mie extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}class Ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class We{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xp(this.root,e,this.comparator,!0)}}class xp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1,Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ft(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eU(this.data.getIterator())}getIteratorFrom(e){return new eU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class eU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new In([])}unionWith(e){let n=new De(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(Il(this.value))}}function tU(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new Ze([n]);if(Ap(r)){const s=tU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}class Re{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Re(e,0,U.min(),U.min(),U.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new Re(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new Re(e,2,n,U.min(),U.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Re(e,3,n,U.min(),U.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function $b(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nie(t,e,n,r,i,s,o)}function Ws(t){const e=M(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ml(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.ft=n}return e.ft}function El(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zV(t.startAt,e.startAt)&&zV(t.endAt,e.endAt)}function Mp(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function Na(t){return new di(t)}function sU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ks(t){const e=M(t);if(null===e.dt){e.dt=[];const n=function Np(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function jb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Ma(n)),e.dt.push(new Ma(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ma(Ze.keyField(),s))}}}return e.dt}function cn(t){const e=M(t);if(!e._t)if("F"===e.limitType)e._t=$b(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ks(e))n.push(new Ma(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ji(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ji(e.startAt.position,e.startAt.inclusive):null;e._t=$b(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function kp(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dl(t,e){return El(cn(t),cn(e))&&t.limitType===e.limitType}function oU(t){return`${Ws(cn(t))}|lt:${t.limitType}`}function qb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ZV(r)).join(", ")}]`),ml(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),`Target(${n})`}(cn(t))}; limitType=${t.limitType})`}function zb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ks(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=qV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ks(n),r)||n.endAt&&!function(i,s,o){const a=qV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ks(n),r)));var n,r}function uU(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=kie(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function kie(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?$i(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function cU(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(e)?"-0":e}}function lU(t){return{integerValue:""+t}}function dU(t,e){return function LV(t){return"number"==typeof t&&Number.isInteger(t)&&!yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?lU(e):cU(t,e)}class Op{constructor(){this._=void 0}}function Oie(t,e,n){return t instanceof ka?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qs?fU(t,e):t instanceof Ys?pU(t,e):function(r,i){const s=hU(r,i),o=gU(s)+gU(r.gt);return Lb(s)&&Lb(r.gt)?lU(o):cU(r.yt,o)}(t,e)}function Pie(t,e,n){return t instanceof Qs?fU(t,e):t instanceof Ys?pU(t,e):n}function hU(t,e){return t instanceof Oa?Lb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ka extends Op{}class Qs extends Op{constructor(e){super(),this.elements=e}}function fU(t,e){const n=mU(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends Op{constructor(e){super(),this.elements=e}}function pU(t,e){let n=mU(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class Oa extends Op{constructor(e,n){super(),this.yt=e,this.gt=n}}function gU(t){return ze(t.integerValue||t.doubleValue)}function mU(t){return wl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Lie{constructor(e,n){this.version=e,this.transformResults=n}}class Fe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Fp{}function yU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Fa(t.key,Fe.none()):new Pa(t.key,t.data,Fe.none());{const n=t.data,r=Lt.empty();let i=new De(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new hi(t.key,r,new In(i.toArray()),Fe.none())}}function Vie(t,e,n){t instanceof Pa?function(r,i,s){const o=r.value.clone(),a=wU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(r,i,s){if(!Pp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(vU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Cl(t,e,n,r){return t instanceof Pa?function(i,s,o,a){if(!Pp(i.precondition,s))return o;const u=i.value.clone(),c=IU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,s,o,a){if(!Pp(i.precondition,s))return o;const u=IU(i.fieldTransforms,a,s),c=s.data;return c.setAll(vU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Pp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Uie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hU(r.transform,i||null);null!=s&&(null===n&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function _U(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Sa(n,r,(i,s)=>function Fie(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Qs&&r instanceof Qs||n instanceof Ys&&r instanceof Ys?Sa(n.elements,r.elements,Ar):n instanceof Oa&&r instanceof Oa?Ar(n.gt,r.gt):n instanceof ka&&r instanceof ka);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Pa extends Fp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hi extends Fp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wU(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Pie(o,a,n[i]))}return r}function IU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Oie(s,o,e))}return r}class Fa extends Fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb extends Fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bie{constructor(e){this.count=e}}var ot,pe;function EU(t){switch(t){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function DU(t){if(void 0===t)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(t){case ot.OK:return w.OK;case ot.CANCELLED:return w.CANCELLED;case ot.UNKNOWN:return w.UNKNOWN;case ot.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ot.INTERNAL:return w.INTERNAL;case ot.UNAVAILABLE:return w.UNAVAILABLE;case ot.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ot.NOT_FOUND:return w.NOT_FOUND;case ot.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ot.ABORTED:return w.ABORTED;case ot.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ot.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(pe=ot||(ot={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FV(this.inner)}size(){return this.innerSize}}const $ie=new We(x.comparator);function En(){return $ie}const bU=new We(x.comparator);function Tl(...t){let e=bU;for(const n of t)e=e.insert(n.key,n);return e}function CU(t){let e=bU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xr(){return Sl()}function TU(){return Sl()}function Sl(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const jie=new We(x.comparator),Hie=new De(x.comparator);function ee(...t){let e=Hie;for(const n of t)e=e.add(n);return e}const Gie=new De(Y);function Lp(){return Gie}class Al{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Al(U.min(),i,Lp(),En(),ee())}}class xl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xl(r,n,ee(),ee(),ee())}}class Vp{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class SU{constructor(e,n){this.targetId=e,this.Et=n}}class AU{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xU{constructor(){this.At=0,this.Rt=RU(),this.bt=mt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),r=ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new xl(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=RU()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class qie{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=En(),this.qt=MU(),this.Ut=new De(Y)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Mp(s))if(0===r){const o=new x(s.path);this.Qt(n,o,Re.newNoDocument(o,U.min()))}else P(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Mp(a.target)){const u=new x(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,Re.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Al(e,n,this.Ut,this.Lt,r);return this.Lt=En(),this.qt=MU(),this.Ut=new De(Y),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new xU,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new De(Y),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new xU),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function MU(){return new We(x.comparator)}function RU(){return new We(x.comparator)}const zie={asc:"ASCENDING",desc:"DESCENDING"},Wie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kie={and:"AND",or:"OR"};class Qie{constructor(e,n){this.databaseId=e,this.wt=n}}function La(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NU(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Yie(t,e){return La(t,e.toTimestamp())}function Xe(t){return P(!!t),U.fromTimestamp(function(e){const n=Ui(e);return new Be(n.seconds,n.nanos)}(t))}function Kb(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function kU(t){const e=fe.fromString(t);return P(jU(e)),e}function Ml(t,e){return Kb(t.databaseId,e.path)}function Mr(t,e){const n=kU(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(PU(n))}function Qb(t,e){return Kb(t.databaseId,e)}function Rl(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PU(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function FU(t,e,n){return{name:Ml(t,e),fields:n.value.mapValue.fields}}function VU(t,e){return{documents:[Qb(t,e.path)]}}function Zb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Qb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return $U(Ee.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Va((l=c).field),direction:tse(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||ml(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function UU(t){let e=function OU(t){const e=kU(t);return 4===e.length?fe.emptyPath():PU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=BU(l);return d instanceof Ee&&Ub(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ma(Ua((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ml(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ji((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ji(l.values||[],!l.before)}(n.endAt)),function iU(t,e,n,r,i,s,o,a){return new di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function BU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ua(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ua(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ua(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ua(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?ue.create(Ua((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(n=>BU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function tse(t){return zie[t]}function nse(t){return Wie[t]}function rse(t){return Kie[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Ua(t){return Ze.fromServerFormat(t.fieldPath)}function $U(t){return t instanceof ue?function(e){if("=="===e.op){if($V(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NAN"}};if(BV(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($V(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NOT_NAN"}};if(BV(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(e.field),op:nse(e.op),value:e.value}}}(t):t instanceof Ee?function(e){const n=e.getFilters().map(r=>$U(r));return 1===n.length?n[0]:{compositeFilter:{op:rse(e.op),filters:n}}}(t):O()}function ise(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Jb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Vie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=yU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>_U(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>_U(n,r))}}class eC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=jie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new eC(e,n,r,i)}}class tC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gi{constructor(e,n,r,i,s=U.min(),o=U.min(),a=mt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QU{constructor(e){this.ie=e}}function nC(t){const e=UU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kp(e,e.limit,"L"):e}class eo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),yl(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(Gs(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?jV(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):O()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),x.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}eo.Ie=new eo;class Rse{constructor(){this.Je=new uC}addToCollectionParentIndex(e,n){return this.Je.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Pn.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class uC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(fe.comparator)).toArray()}}new Uint8Array(0);class Dn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class no{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new no(0)}static vn(){return new no(-1)}}class Vse{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Re.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $se{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Cl(r.mutation,i,In.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=En();const o=Sl(),a=Sl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof hi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Cl(l.mutation,c,l.mutation.getFieldMask(),Be.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new $se(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sl();let i=new We((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||In.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=TU();l.forEach(h=>{if(!s.has(h)){const f=yU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Hb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(xr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:CU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Tl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=n,l=a.child(i),new di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,Re.newInvalidDocument(c)))});let o=Tl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&Cl(c.mutation,u,In.empty(),Be.now()),zb(n,u)&&(o=o.insert(a,u))}),o})}}class jse{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Xe(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:nC(r.bundledQuery),readTime:Xe(r.readTime)}),_.resolve();var r}}class Hse{constructor(){this.overlays=new We(x.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xr();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=xr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=xr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=xr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tC(n,r));let s=this.es.get(n);void 0===s&&(s=ee(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class cC{constructor(){this.ns=new De(Dt.ss),this.rs=new De(Dt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Dt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new x(new fe([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new x(new fe([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=ee();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return x.comparator(e.key,n.key)||Y(e._s,n._s)}static os(e,n){return Y(e._s,n._s)||x.comparator(e.key,n.key)}}class Gse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new De(Dt.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new Jb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(Y);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new x(s),0);let a=new De(Y);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Dt(n,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qse{constructor(e){this.Es=e,this.docs=new We(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Re.newInvalidDocument(n))}getEntries(e,n){let r=En();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Re.newInvalidDocument(i))}),_.resolve(r)}getAllFromCollection(e,n,r){let i=En();const s=new x(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Nb(NV(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return _.resolve(i)}getAllFromCollectionGroup(e,n,r,i){O()}As(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zse(this)}getSize(e){return _.resolve(this.size)}}class zse extends Vse{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Wse{constructor(e){this.persistence=e,this.Rs=new Hi(n=>Ws(n),El),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cC,this.targetCount=0,this.vs=no.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new no(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}class w2{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Fn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Wse(this),this.indexManager=new Rse,this.remoteDocumentCache=new qse(r=>this.referenceDelegate.xs(r)),this.yt=new QU(n),this.Ns=new jse(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Gse(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Kse(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Kse extends mie{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Fs=new cC,this.$s=null}static Bs(e){return new Kp(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=x.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class fC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fC(e,n.fromCache,r,i)}}class E2{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(sU(n))return _.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=kp(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,kp(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return sU(n)||i.isEqual(U.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(xb()<=he.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qb(n)),this.Bi(e,o,n,function RV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Be(n+1,0):new Be(n,r));return new Pn(i,x.empty(),e)}(i,-1)))})}Fi(e,n){let r=new De(uU(e));return n.forEach((i,s)=>{zb(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return xb()<=he.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",qb(n)),this.Ni.getDocumentsMatchingQuery(e,n,Pn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Yse{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new We(Y),this.Ui=new Hi(s=>Ws(s),El),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v2(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function b2(t,e){return pC.apply(this,arguments)}function pC(){return pC=g(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),pC.apply(this,arguments)}function Zse(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);P(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function C2(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function Xse(t,e){const n=M(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(mt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=En(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function T2(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=En();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(U.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function Jse(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ja(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Gi(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function Ha(t,e,n){return gC.apply(this,arguments)}function gC(){return gC=g(function*(t,e,n){const r=M(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Vi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),gC.apply(this,arguments)}function Yp(t,e,n){const r=M(t);let i=U.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Ui.get(c);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:ee())).next(a=>(function x2(t,e,n){let r=t.Ki.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function aU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class wC{constructor(){this.activeTargetIds=Lp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N2{constructor(){this.Lr=new wC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new wC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class noe{Ur(e){}shutdown(){}}class k2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const roe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ioe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class soe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Ta("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ca,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${roe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new sie;a.setWithCredentials(!0),a.listenOnce(nie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ab.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Ab.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case Ab.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(h.status);o(new b(f,h.message))}else o(new b(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eie(),o=tie(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new iie({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new ioe({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,I=>{try{y(I)}catch(D){setTimeout(()=>{throw D},0)}})};return f(c,Dp.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Dp.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,Dp.EventType.ERROR,p=>{d||(d=!0,Ta("Connection","WebChannel transport errored:",p),h.io(new b(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Dp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];P(!!y);const D=y.error||(null===(m=y[0])||void 0===m?void 0:m.error);if(D){T("Connection","WebChannel received error:",D);const v=D.status;let N=function(B){const et=ot[B];if(void 0!==et)return DU(et)}(v),V=D.message;void 0===N&&(N=w.INTERNAL,V="Unknown error status: "+v+" with message "+D.message),d=!0,h.io(new b(N,V)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,rie.STAT_EVENT,p=>{p.stat===CV.PROXY?T("Connection","Detected buffering proxy"):p.stat===CV.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Jp(){return typeof document<"u"?document:null}function $l(t){return new Qie(t,!0)}class EC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class P2{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new EC(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ooe extends P2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function Xie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(P(void 0===c||"string"==typeof c),mt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:DU(u.code);return new b(c,u.message||"")}(o);n=new AU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(t,r.document.name),s=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):U.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=Re.newFoundDocument(i,s,o,a);n=new Vp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(t,r.document),s=r.readTime?Xe(r.readTime):U.min(),o=Re.newNoDocument(i,s);n=new Vp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(t,r.document);n=new Vp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new Bie(r.count||0);n=new SU(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Xe(s.readTime):U.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Rl(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Mp(a)?{documents:VU(i,a)}:{query:Zb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=NU(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=La(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function ese(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Rl(this.yt),n.removeTarget=e,this.Bo(n)}}class aoe extends P2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function Jie(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=Xe(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=Xe(i)),new Lie(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xe(e.commitTime);return this.listener.Zo(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Rl(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Nl(t,e){let n;if(e instanceof Pa)n={update:FU(t,e.key,e.value)};else if(e instanceof Fa)n={delete:Ml(t,e.key)};else if(e instanceof hi)n={update:FU(t,e.key,e.data),updateMask:ise(e.fieldMask)};else{if(!(e instanceof Wb))return O();n={verify:Ml(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ka)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Oa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Yie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.yt,r))};this.Bo(n)}}class uoe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class loe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ye(n),this.ou=!1):T("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class doe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var u;fi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=M(c);l._u.add(4),yield Ga(l),l.gu.set("Unknown"),l._u.delete(4),yield jl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new loe(r,i)}}function jl(t){return bC.apply(this,arguments)}function bC(){return bC=g(function*(t){if(fi(t))for(const e of t.wu)yield e(!0)}),bC.apply(this,arguments)}function Ga(t){return CC.apply(this,arguments)}function CC(){return CC=g(function*(t){for(const e of t.wu)yield e(!1)}),CC.apply(this,arguments)}function eg(t,e){const n=M(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),AC(n)?SC(n):za(n).ko()&&TC(n,e))}function Hl(t,e){const n=M(t),r=za(n);n.du.delete(e),r.ko()&&F2(n,e),0===n.du.size&&(r.ko()?r.Fo():fi(n)&&n.gu.set("Unknown"))}function TC(t,e){t.yu.Ot(e.targetId),za(t).zo(e)}function F2(t,e){t.yu.Ot(e),za(t).Ho(e)}function SC(t){t.yu=new qie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),za(t).start(),t.gu.uu()}function AC(t){return fi(t)&&!za(t).No()&&t.du.size>0}function fi(t){return 0===M(t)._u.size}function L2(t){t.yu=void 0}function hoe(t){return xC.apply(this,arguments)}function xC(){return xC=g(function*(t){t.du.forEach((e,n)=>{TC(t,e)})}),xC.apply(this,arguments)}function foe(t,e){return MC.apply(this,arguments)}function MC(){return MC=g(function*(t,e){L2(t),AC(t)?(t.gu.hu(e),SC(t)):t.gu.set("Unknown")}),MC.apply(this,arguments)}function poe(t,e,n){return RC.apply(this,arguments)}function RC(){return RC=g(function*(t,e,n){if(t.gu.set("Online"),e instanceof AU&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tg(t,r)}else if(e instanceof Vp?t.yu.Kt(e):e instanceof SU?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(U.min()))try{const r=yield C2(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(mt.EMPTY_BYTE_STRING,u.snapshotVersion)),F2(i,a);const c=new Gi(u.target,a,1,u.sequenceNumber);TC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield tg(t,r)}var r}),RC.apply(this,arguments)}function tg(t,e,n){return NC.apply(this,arguments)}function NC(){return NC=g(function*(t,e,n){if(!Vi(e))throw e;t._u.add(1),yield Ga(t),t.gu.set("Offline"),n||(n=()=>C2(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield jl(t)}))}),NC.apply(this,arguments)}function V2(t,e){return e().catch(n=>tg(t,n,e))}function qa(t){return kC.apply(this,arguments)}function kC(){return kC=g(function*(t){const e=M(t),n=Ki(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;goe(e);)try{const i=yield Jse(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,moe(e,i)}catch(i){yield tg(e,i)}U2(e)&&B2(e)}),kC.apply(this,arguments)}function goe(t){return fi(t)&&t.fu.length<10}function moe(t,e){t.fu.push(e);const n=Ki(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function U2(t){return fi(t)&&!Ki(t).No()&&t.fu.length>0}function B2(t){Ki(t).start()}function yoe(t){return OC.apply(this,arguments)}function OC(){return OC=g(function*(t){Ki(t).eu()}),OC.apply(this,arguments)}function _oe(t){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t){const e=Ki(t);for(const n of t.fu)e.Xo(n.mutations)}),PC.apply(this,arguments)}function voe(t,e,n){return FC.apply(this,arguments)}function FC(){return FC=g(function*(t,e,n){const r=t.fu.shift(),i=eC.from(r,e,n);yield V2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qa(t)}),FC.apply(this,arguments)}function woe(t,e){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t,e){var n;e&&Ki(t).Yo&&(yield(n=g(function*(r,i){if(EU(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();Ki(r).Mo(),yield V2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qa(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),U2(t)&&B2(t)}),LC.apply(this,arguments)}function $2(t,e){return VC.apply(this,arguments)}function VC(){return VC=g(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=fi(n);n._u.add(3),yield Ga(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield jl(n)}),VC.apply(this,arguments)}function BC(){return BC=g(function*(t,e){const n=M(t);e?(n._u.delete(2),yield jl(n)):e||(n._u.add(2),yield Ga(n),n.gu.set("Unknown"))}),BC.apply(this,arguments)}function za(t){return t.pu||(t.pu=function(e,n,r){const i=M(e);return i.su(),new ooe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:hoe.bind(null,t),Zr:foe.bind(null,t),Wo:poe.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.pu.Mo(),AC(t)?SC(t):t.gu.set("Unknown")):(yield t.pu.stop(),L2(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function Ki(t){return t.Iu||(t.Iu=function(e,n,r){const i=M(e);return i.su(),new aoe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:yoe.bind(null,t),Zr:woe.bind(null,t),tu:_oe.bind(null,t),Zo:voe.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.Iu.Mo(),yield qa(t)):(yield t.Iu.stop(),t.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class $C{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $C(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wa(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Vi(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class j2{constructor(){this.Tu=new We(x.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qa(e,n,Ka.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ioe{constructor(){this.Au=void 0,this.listeners=[]}}class Eoe{constructor(){this.queries=new Hi(e=>oU(e),Dl),this.onlineState="Unknown",this.Ru=new Set}}function HC(){return HC=g(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ioe),i)try{s.Au=yield n.onListen(r)}catch(o){const a=Wa(o,`Initialization of query '${qb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&zC(n)}),HC.apply(this,arguments)}function qC(){return qC=g(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),qC.apply(this,arguments)}function Doe(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&zC(n)}function boe(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zC(t){t.Ru.forEach(e=>{e.next()})}class WC{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class q2{constructor(e){this.key=e}}class z2{constructor(e){this.key=e}}class W2{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=uU(e),this.Qu=new Ka(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new j2,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=zb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Qa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new j2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new z2(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new q2(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Qa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Soe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Aoe{constructor(e){this.key=e,this.nc=!1}}class xoe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Hi(a=>oU(a),Dl),this.rc=new Map,this.oc=new Set,this.uc=new We(x.comparator),this.cc=new Map,this.ac=new cC,this.hc={},this.lc=new Map,this.fc=no.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Moe(t,e){return KC.apply(this,arguments)}function KC(){return KC=g(function*(t,e){const n=_0(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield ja(n.localStore,cn(e));n.isPrimaryClient&&eg(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield QC(n,e,r,"current"===a,o.resumeToken)}return i}),KC.apply(this,arguments)}function QC(t,e,n,r,i){return YC.apply(this,arguments)}function YC(){return YC=g(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=g(function*(m,y,I,D){let v=y.view.Wu(I);v.$i&&(v=yield Yp(m.localStore,y.query,!1).then(({documents:B})=>y.view.Wu(B,v)));const N=D&&D.targetChanges.get(y.targetId),V=y.view.applyChanges(v,m.isPrimaryClient,N);return a0(m,y.targetId,V.Xu),V.snapshot}),function(m,y,I,D){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Yp(t.localStore,e,!0),o=new W2(e,s.Hi),a=o.Wu(s.documents),u=xl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);a0(t,n,c.Xu);const l=new Soe(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),YC.apply(this,arguments)}function Roe(t,e){return ZC.apply(this,arguments)}function ZC(){return ZC=g(function*(t,e){const n=M(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Dl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ha(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hl(n.remoteStore,r.targetId),Ya(n,r.targetId)}).catch(Li))):(Ya(n,r.targetId),yield Ha(n.localStore,r.targetId,!0))}),ZC.apply(this,arguments)}function XC(){return XC=g(function*(t,e,n){const r=v0(t);try{const i=yield function(s,o){const a=M(s),u=Be.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=En(),p=ee();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const D=Uie(I,l.get(I.key).overlayedDocument);null!=D&&y.push(new hi(I.key,D,tU(D.value.mapValue),Fe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:CU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new We(Y)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield pi(r,i.changes),yield qa(r.remoteStore)}catch(i){const s=Wa(i,"Failed to persist write");n.reject(s)}}),XC.apply(this,arguments)}function K2(t,e){return JC.apply(this,arguments)}function JC(){return JC=g(function*(t,e){const n=M(t);try{const r=yield Xse(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?P(o.nc):i.removedDocuments.size>0&&(P(o.nc),o.nc=!1))}),yield pi(n,r,e)}catch(r){yield Li(r)}}),JC.apply(this,arguments)}function Q2(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&zC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function koe(t,e,n){return e0.apply(this,arguments)}function e0(){return e0=g(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new We(x.comparator);o=o.insert(s,Re.newNoDocument(s,U.min()));const a=ee().add(s),u=new Al(U.min(),new Map,new De(Y),o,a);yield K2(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),u0(r)}else yield Ha(r.localStore,e,!1).then(()=>Ya(r,e,n)).catch(Li)}),e0.apply(this,arguments)}function Ooe(t,e){return t0.apply(this,arguments)}function t0(){return t0=g(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield Zse(n.localStore,e);o0(n,r,null),s0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pi(n,i)}catch(i){yield Li(i)}}),t0.apply(this,arguments)}function Poe(t,e,n){return n0.apply(this,arguments)}function n0(){return n0=g(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);o0(r,e,n),s0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pi(r,i)}catch(i){yield Li(i)}}),n0.apply(this,arguments)}function s0(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function o0(t,e,n){const r=M(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ya(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Y2(t,r)})}function Y2(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(Hl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),u0(t))}function a0(t,e,n){for(const r of n)r instanceof q2?(t.ac.addReference(r.key,e),Loe(t,r)):r instanceof z2?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Y2(t,r.key)):O()}function Loe(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),u0(t))}function u0(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new x(fe.fromString(e)),r=t.fc.next();t.cc.set(r,new Aoe(n)),t.uc=t.uc.insert(n,r),eg(t.remoteStore,new Gi(cn(Na(n.path)),r,2,Fn.at))}}function pi(t,e,n){return c0.apply(this,arguments)}function c0(){return c0=g(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=fC.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Vi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),c0.apply(this,arguments)}function Voe(t,e){return l0.apply(this,arguments)}function l0(){return l0=g(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield b2(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pi(n,r.ji)}var i}),l0.apply(this,arguments)}function Uoe(t,e){const n=M(t),r=n.cc.get(e);if(r&&r.nc)return ee().add(r.key);{let i=ee();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function _0(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=koe.bind(null,e),e.sc.Wo=Doe.bind(null,e.eventManager),e.sc.wc=boe.bind(null,e.eventManager),e}function v0(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ooe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Poe.bind(null,e),e}class Koe{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.yt=$l(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function D2(t,e,n,r){return new Yse(t,e,n,r)}(this.persistence,new E2,e.initialUser,this.yt)}yc(e){return new w2(Kp.Bs,this.yt)}gc(e){return new N2}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class w0{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Q2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Voe.bind(null,r.syncEngine),yield function UC(t,e){return BC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eoe}createDatastore(e){const n=$l(e.databaseInfo.databaseId),r=new soe(e.databaseInfo);return new uoe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Q2(this.syncEngine,a,0),o=k2.C()?new k2:new noe,new doe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new xoe(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=M(n);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ga(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function I0(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J2(t){if(!x.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eB(t){if(x.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ng(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ng(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const nB=new Map;class rB{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Zoe(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new oie;switch(n.type){case"gapi":return new lie(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=nB.get(e);n&&(T("ComponentProvider","Removing Datastore"),nB.delete(e),n.terminate())}(this),Promise.resolve()}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Vt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vt(this.firestore,e,this._query)}}class Nr extends Vt{constructor(e,n,r){super(e,n,Na(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new x(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function iB(t,e,...n){if(t=Wt(t),I0("collection","path",e),t instanceof Gl){const r=fe.fromString(e,...n);return eB(r),new Nr(t,null,r)}{if(!(t instanceof Je||t instanceof Nr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return eB(r),new Nr(t.firestore,null,r)}}function sB(t,e,...n){if(t=Wt(t),1===arguments.length&&(e=xV.R()),I0("doc","path",e),t instanceof Gl){const r=fe.fromString(e,...n);return J2(r),new Je(t,null,new x(r))}{if(!(t instanceof Je||t instanceof Nr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return J2(r),new Je(t.firestore,t instanceof Nr?t.converter:null,new x(r))}}class rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class iae{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=xV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Wa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function uB(t,e){return E0.apply(this,arguments)}function E0(){return E0=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield b2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),E0.apply(this,arguments)}function cB(t,e){return D0.apply(this,arguments)}function D0(){return D0=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield b0(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>$2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$2(e.remoteStore,s)),t.onlineComponents=e}),D0.apply(this,arguments)}function b0(t){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield uB(t,new Koe)),t.offlineComponents}),C0.apply(this,arguments)}function ig(t){return T0.apply(this,arguments)}function T0(){return T0=g(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield cB(t,new w0)),t.onlineComponents}),T0.apply(this,arguments)}function Za(t){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t){const e=yield ig(t),n=e.eventManager;return n.onListen=Moe.bind(null,e.syncEngine),n.onUnlisten=Roe.bind(null,e.syncEngine),n}),x0.apply(this,arguments)}class hae{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new EC(this,"async_queue_retry"),this.Wc=()=>{const n=Jp();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Jp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new gt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Vi(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=$C.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&O()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function M0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends Gl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pB(this),this._firestoreClient.terminate()}}function pae(t,e){const r="string"==typeof t?t:e||"(default)",i=da("object"==typeof t?t:Vv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=DO("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Xoe(t,e,n,r={}){var i;const s=(t=ce(t,Gl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=It.MOCK_USER;else{o=function oQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ff(JSON.stringify({alg:"none",type:"JWT"})),ff(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new It(u)}t._authCredentials=new aie(new SV(o,a))}}(i,...s)}return i}function at(t){return t._firestoreClient||pB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pB(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Iie(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new iae(t._authCredentials,t._appCheckCredentials,t._queue,r)}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(mt.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yB{constructor(e){this._methodName=e}}class R0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const gae=/^__.*__$/;class mae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}function vB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ug(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(vB(this.sa)&&gae.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class yae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||$l(e)}da(e,n,r,i=!1){return new og({sa:e,methodName:n,fa:r,path:Ze.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ja(t){const e=t._freezeSettings(),n=$l(t._databaseId);return new yae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N0(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);O0("Data must be an object, but it was:",o,r);const a=bB(r,o);let u,c;if(s.merge)u=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=P0(e,d,n);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);TB(l,h)||l.push(h)}u=new In(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new mae(new Lt(a),u,c)}function so(t,e){if(CB(t=Wt(t)))return O0("Unsupported field value:",e,t),bB(t,e);if(t instanceof yB)return function(n,r){if(!vB(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=so(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Wt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return dU(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Be.fromDate(n);return{timestampValue:La(r.yt,i)}}if(n instanceof Be){const i=new Be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:La(r.yt,i)}}if(n instanceof R0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:NU(r.yt,n._byteString)};if(n instanceof Je){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${ng(n)}`)}(t,e)}function bB(t,e){const n={};return FV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=so(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function CB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof R0||t instanceof io||t instanceof Je||t instanceof yB)}function O0(t,e,n){if(!CB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ng(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function P0(t,e,n){if((e=Wt(e))instanceof Xa)return e._internalPath;if("string"==typeof e)return ag(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const Iae=new RegExp("[~\\*/\\[\\]]");function ag(t,e,n){if(e.search(Iae)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xa(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ug(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}function TB(t,e){return t.some(n=>n.isEqual(e))}class F0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Eae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Eae extends F0{data(){return super.data()}}function cg(t,e){return"string"==typeof e?ag(t,e):e instanceof Xa?e._internalPath:e._delegate._internalPath}class bae{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){const r={};return Hs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new R0(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);P(jU(r));const i=new js(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tu extends F0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fg extends tu{data(e={}){return super.data(e)}}class nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fg(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Cae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Cae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Qi extends bae{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function Tae(t){return Wl(ce(t.firestore,Ne),[new Fa(t._key,Fe.none())])}function Wl(t,e){return function(n,r){const i=new gt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Noe(t,e,n){return XC.apply(this,arguments)}(yield function A0(t){return ig(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(at(t),e)}!function(t,e=!0){Ca=ha,on(new Kt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ne(new uie(n.getProvider("auth-internal")),new die(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ge(TV,"3.8.1",t),Ge(TV,"3.8.1","esm2017")}();var Nae={includeMetadataChanges:!1};function B0(t,e){return void 0===e&&(e=Nae),new Le(function(n){var r=function Aae(t,...e){var n,r,i;t=Wt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||M0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(M0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Je)c=ce(t.firestore,Ne),l=Na(t._key.path),u={next:d=>{e[o]&&e[o](function U0(t,e,n){const r=n.docs.get(e._key),i=new Qi(t);return new tu(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Vt);c=ce(d.firestore,Ne),l=d._query;const h=new Qi(c);u={next:f=>{e[o]&&e[o](new nu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function SB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new rg(p),y=new WC(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function jC(t,e){return HC.apply(this,arguments)}(yield Za(d),y)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function GC(t,e){return qC.apply(this,arguments)}(yield Za(d),y)}))}}(at(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Uae(t,e){return void 0===e&&(e={}),function Vae(t){return B0(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}(t).pipe(se(function(n){return n.map(function(r){return function PB(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class gg{constructor(e){return e}}const UB="firestore",H0=new L("angularfire2.firestore-instances");function jae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new gg(r)}}const Hae={provide:class Bae{constructor(){return bI(UB)}},deps:[[new Ht,H0]]},Gae={provide:gg,useFactory:function $ae(t,e){const n=DI(UB,t,e);return n&&new gg(n)},deps:[[new Ht,H0],ya]};let qae=(()=>{class t{constructor(){Ge("angularfire",xf.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ct({providers:[Gae,Hae]}),t})();const Wae=Mi(Uae,!0),Kae=Mi(Tae,!0),Qae=Mi(pae,!0);class ao{constructor(e){this.firestore=e}addProducto(e){return function Sae(t,e){const n=ce(t.firestore,Ne),r=sB(t),i=function V0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Wl(n,[N0(Ja(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Fe.exists(!1))]).then(()=>r)}(iB(this.firestore,"farmacia"),e)}getFarmacia(){const e=iB(this.firestore,"farmacia");return Wae(e,{idField:"id"})}deletedFarmacia(e){const n=sB(this.firestore,`farmacia/${e.id}`);return Kae(n)}}ao.\u0275fac=function(e){return new(e||ao)($(gg))},ao.\u0275prov=j({token:ao,factory:ao.\u0275fac,providedIn:"root"});class ru{constructor(e){this.farmaciaService=e,this.formRegister=new bc({producto:new Is,costo:new Is,foto:new Is})}ngOnInit(){}onSubmit(){console.log(this.formRegister.value);const e=this.farmaciaService.addProducto(this.formRegister.value);console.log(e)}}ru.\u0275fac=function(e){return new(e||ru)(C(ao))},ru.\u0275cmp=Lr({type:ru,selectors:[["app-register"]],decls:23,vars:1,consts:[[1,"register","w-2/5","mx-auto","bg-zinc-500","rounded-lg","mt-10","p-5"],[3,"formGroup"],[1,"producto","bg-slate-100","rounded-lg","p-6","my-4"],["for","producto"],["type","text","formControlName","producto","name","producto",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2"],[1,"costo","bg-slate-100","rounded-lg","p-6","my-4"],["for","costo"],["type","text","formControlName","costo","name","costo",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2"],[1,"foto","bg-slate-100","rounded-lg","p-6","my-4"],["for","foto"],["type","text","formControlName","foto","name","foto",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2"],[1,"flex","flex-col"],[1,"rounded-lg","bg-zinc-900","text-white","px-4","py-2","hover:bg-zinc-800","hover:text-white","mx-auto",3,"click"]],template:function(e,n){1&e&&(we(0,"div",0)(1,"form",1)(2,"div",2)(3,"div")(4,"label",3),rt(5,"Producto:"),Ie()(),we(6,"div"),er(7,"input",4),Ie()(),we(8,"div",5)(9,"div")(10,"label",6),rt(11,"Costo:"),Ie()(),we(12,"div"),er(13,"input",7),Ie()(),we(14,"div",8)(15,"div")(16,"label",9),rt(17,"Foto:"),Ie()(),we(18,"div"),er(19,"input",10),Ie()(),we(20,"div",11)(21,"button",12),tn("click",function(){return n.onSubmit()}),rt(22,"Registrar"),Ie()()()()),2&e&&(vi(1),qo("formGroup",n.formRegister))},dependencies:[gv,Ic,rv,iv,Sc,hf]});class Kl{}function Yae(t,e){if(1&t){const n=function wx(){return E()}();we(0,"tr")(1,"td"),rt(2),Ie(),we(3,"td"),rt(4),Ie(),we(5,"td"),er(6,"img",3),Ie(),we(7,"td")(8,"button",4),tn("click",function(){const s=function $T(t){return X.lFrame.contextLView=t,t[8]}(n).$implicit;return function jT(t){return X.lFrame.contextLView=null,t}(Tx().onClickDelete(s))}),rt(9,"Elilminar"),Ie()()()}if(2&t){const n=e.$implicit;vi(2),my(n.producto),vi(2),eh("S/. ",n.costo,""),vi(2),ly("src",n.foto,Mm)}}Kl.\u0275fac=function(e){return new(e||Kl)},Kl.\u0275cmp=Lr({type:Kl,selectors:[["app-home"]],decls:1,vars:0,template:function(e,n){1&e&&er(0,"app-register")},dependencies:[ru]});class Ql{constructor(e){this.farmaciaServices=e}ngOnInit(){this.farmaciaServices.getFarmacia().subscribe(e=>{this.farmacia=e})}onClickDelete(e){const n=this.farmaciaServices.deletedFarmacia(e);console.log(n)}}Ql.\u0275fac=function(e){return new(e||Ql)(C(ao))},Ql.\u0275cmp=Lr({type:Ql,selectors:[["app-list"]],decls:15,vars:1,consts:[[1,"font-sans","text-white","w-2/5","mx-auto","bg-stone-800","rounded-lg","mt-10","p-5"],[1,"font-sans","text-white"],[4,"ngFor","ngForOf"],["alt","","width","100",3,"src"],[1,"bg-red-500","tex-white","px-4","py-2","rounded-full",3,"click"]],template:function(e,n){1&e&&(we(0,"div",0)(1,"p"),rt(2,"Lista de productos"),Ie(),we(3,"table",1)(4,"thead")(5,"th"),rt(6,"Nommbre"),Ie(),we(7,"th"),rt(8,"Costo"),Ie(),we(9,"th"),rt(10,"Imagen"),Ie(),we(11,"th"),rt(12,"Tools"),Ie()(),we(13,"tbody"),function _x(t,e,n,r,i,s,o,a){const u=E(),c=de(),l=t+22,d=c.firstCreatePass?function ez(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Po(e,t,4,o||null,yi(c,a));Zm(e,n,l,yi(c,u)),vd(e,l);const d=l.tViews=Ym(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];hr(d,!1);const h=u[11].createComment("");kd(c,u,h,d),Gt(h,u),Gd(u,u[l]=XA(h,u,h,d)),md(d)&&Km(c,u,d),null!=o&&Qm(u,d,a)}(14,Yae,10,3,"tr",2),Ie()()()),2&e&&(vi(14),qo("ngForOf",n.farmacia))},dependencies:[bN]});class iu{constructor(e){this.auth=e}registerUser({email:e,password:n}){return ere(this.auth,e,n)}login({email:e,password:n}){return nre(this.auth,e,n)}logOut(){return rre(this.auth)}}iu.\u0275fac=function(e){return new(e||iu)($(Yf))},iu.\u0275prov=j({token:iu,factory:iu.\u0275fac,providedIn:"root"});class Yl{constructor(e,n){this.userService=e,this.router=n,this.formLogin=new bc({email:new Is,password:new Is})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(e=>{console.log(e),this.router.navigate(["/list"])}).catch(e=>console.log(e))}}Yl.\u0275fac=function(e){return new(e||Yl)(C(iu),C(yn))},Yl.\u0275cmp=Lr({type:Yl,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"formulario","bg-stone-800","w-1/5","rounded-xl","p-5","mx-auto","mt-20"],[1,"font-sans","font-bold","text-2xl","text-center","text-white"],[1,"mt-8",3,"formGroup"],[1,"text-left","mt-8"],[1,"my-1"],["for","email",1,"font-sans","text-white"],["type","text","placeholder","Ingresar Email","formControlName","email",1,"rounded-lg","px-4","py-2"],["for","password",1,"font-sans","text-white"],["type","password","placeholder","Ingresar Contrase\xf1a","formControlName","password",1,"rounded-lg","px-4","py-2"],[1,"text-center","mt-8"],[1,"font-bold","font-sans","text-white","bg-emerald-500","hover:bg-neutral-900","hover:text-white","px-4","py-2","rounded-lg",3,"click"]],template:function(e,n){1&e&&(we(0,"div",0)(1,"h1",1),rt(2,"Login"),Ie(),we(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),rt(7,"Correo: "),Ie()(),we(8,"div"),er(9,"input",6),Ie()(),we(10,"div",3)(11,"div",4)(12,"label",7),rt(13,"Contrase\xf1a: "),Ie()(),we(14,"div"),er(15,"input",8),Ie()(),we(16,"div",9)(17,"button",10),tn("click",function(){return n.onSubmit()}),rt(18,"Login"),Ie()()()()),2&e&&(vi(3),qo("formGroup",n.formLogin))},dependencies:[gv,Ic,rv,iv,Sc,hf]});const Zae=[{path:"",component:Kl},{path:"register",component:ru},{path:"list",component:Ql},{path:"login",component:Yl},{path:"**",pathMatch:"full",redirectTo:""}];class su{}su.\u0275fac=function(e){return new(e||su)},su.\u0275mod=Ut({type:su}),su.\u0275inj=Ct({imports:[g1.forRoot(Zae),g1]});const Xae=function(){return{exact:!0}};class Zl{}Zl.\u0275fac=function(e){return new(e||Zl)},Zl.\u0275cmp=Lr({type:Zl,selectors:[["app-nav"]],decls:12,vars:2,consts:[[1,"menu","my-2","bg-black","mx-auto","border","border-black","p-2","rounded-lg","flex","w-5/6"],[1,"flex","flex-row","w-3/4"],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/list",1,"p-5","text-xl","font-sans","py-2","text-white"],[1,"flex","flex-row-reverse","w-1/4"],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/login",1,"px-5","text-xl","font-sans","text-white",3,"routerLinkActiveOptions"],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/register",1,"px-5","text-xl","font-sans","text-white"]],template:function(e,n){1&e&&(we(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2),rt(4,"Lista"),Ie()()(),we(5,"ul",3)(6,"li")(7,"a",4),rt(8,"Login"),Ie()(),we(9,"li")(10,"a",5),rt(11,"Registrar"),Ie()()()()),2&e&&(vi(7),qo("routerLinkActiveOptions",ZM(1,Xae)))},dependencies:[Jh,a1]});class Xl{constructor(){this.title="session-25"}}Xl.\u0275fac=function(e){return new(e||Xl)},Xl.\u0275cmp=Lr({type:Xl,selectors:[["app-root"]],decls:2,vars:0,template:function(e,n){1&e&&er(0,"app-nav")(1,"router-outlet")},dependencies:[j_,Zl]});const Jae_firebase={projectId:"angular-4606c",appId:"1:633178703255:web:2c2efbc730af9123e030d2",storageBucket:"angular-4606c.appspot.com",apiKey:"AIzaSyC5e0OHjPgcayGgQqbGQ4BJ4w--0JgcVcg",authDomain:"angular-4606c.firebaseapp.com",messagingSenderId:"633178703255"};class ou{}ou.\u0275fac=function(e){return new(e||ou)},ou.\u0275mod=Ut({type:ou}),ou.\u0275inj=Ct({imports:[p_,vO]});class au{}au.\u0275fac=function(e){return new(e||au)},au.\u0275mod=Ut({type:au}),au.\u0275inj=Ct({imports:[p_,vO,K9]});class uu{}uu.\u0275fac=function(e){return new(e||uu)},uu.\u0275mod=Ut({type:uu,bootstrap:[Xl]}),uu.\u0275inj=Ct({imports:[oK,su,function vJ(t,...e){return{ngModule:_J,providers:[{provide:SI,useFactory:yJ(t),multi:!0,deps:[Oe,pn,CI,...e]}]}}(()=>wJ(Jae_firebase)),function zae(t,...e){return{ngModule:qae,providers:[{provide:H0,useFactory:jae(t),multi:!0,deps:[Oe,pn,CI,TI,[new Ht,lL],[new Ht,qI],...e]}]}}(()=>Qae()),ou,au,function Jne(t,...e){return{ngModule:Xne,providers:[{provide:jD,useFactory:Qne(t),multi:!0,deps:[Oe,pn,CI,TI,[new Ht,qI],...e]}]}}(()=>tre())]}),sK().bootstrapModule(uu).catch(t=>console.error(t))}},Ce=>{Ce(Ce.s=829)}]);